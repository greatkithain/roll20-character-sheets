<div id="mainContainer">

<div id="credits"> <div class="creditIcon"><b>?</b></div> 

<div class="creditText">
<b>Project Moon TRPG</b><br> is a fan-made system based on the games of Project Moon.<br><br>

<b>Sheet base:</b> @ChungMu35<br>
<b>Game system:</b> @helloing0119<br>
<b>Translations/Editing:</b> @punibird<br>
<b>Supported by:</b> Project Moon Tabletop Discord<br><br>
<b>Discord:</b> <input type="text" class="darkInput" value="https://discord.gg/nNGqXzWu"><br>
<b>System:</b> <input type="text" class="darkInput" value="https://drive.google.com/drive/u/2/folders/15nMYLz0sB5xWUiSOG4oN6IsteRJjpdZk">
</div>

<br>
</div>

<div id="settings">
<div class="settingsIcon"><img src="https://64.media.tumblr.com/e452d43f3eb19d9b6a0c68b6b2346bd1/54a6c0624a56a822-d9/s250x400/7ee56fde39ed7c2e2fdc6ff2440d570beea9b3f8.pnj"></div>

<div class="settingsText">
<span>Settings</span>

<input type="text" name="attr_messageOverride" value="0" hidden="true">

<label for="MuteMessage"><input type="checkbox" id="MuteMessage" name="attr_settingMuteMessage" value="true">Mute ailment messages</label>

<label for="AutoDetect"><input type="checkbox" id="AutoDetect" name="attr_settingAutoDetect" value="true" /checked>Auto-detect combat states</label>

<label for="SimpleDisplay"><input type="checkbox" id="SimpleDisplay" name="attr_settingSimpleDisplay" value="true">Simple roll display</label>

<label for="ExtraWeapons"><input type="checkbox" id="ExtraEquip" name="attr_settingExtraEquip" value="true">Extra weapons/tools</label>

<label for="ExtraSkills"><input type="checkbox" id="ExtraSkills" name="attr_settingExtraSkills" value="true">Extra skill slots</label>

<label for="HideSpecial"><input type="checkbox" id="HideSpecial" name="attr_settingHideSpecial" value="true">Hide special items</label>

<label for="HelperText"><input type="checkbox" id="HelperText" name="attr_settingHelperText" value="true">Hide roll palette text</label>

<label for="HideShare"><input type="checkbox" id="HideShare" name="attr_settingHideShare" value="true">Hide share buttons</label>

<label for="BurnImmune"><input type="checkbox" id="BurnImmune" name="attr_settingBurnImmune" value="true">No Burn damage</label>

<label for="BleedImmune"><input type="checkbox" id="BleedImmune" name="attr_settingBleedImmune" value="true">No Bleed damage</label>


</div>

</div>

</div><br>

 	<div class="player">
            <div>Assessed by: </div>
            <input type="text" placeholder="Player name" id="playerName" name="attr_player">
        </div>

              <div id="logo">
                    <img src="https://64.media.tumblr.com/9d17dc5c71583417d63ac3e286ed1022/c221812303dae053-55/s1280x1920/19a80faf6a1a402f36e40472217eb849f4ddf87e.pnj" title="Project Moon TRPG"></div>

	<div class="rowContainer centerFlex">    
        <div class="titleSheet">Background Investigation and Combat Ability Report</div>

	      </div>


    <div id="sheetWrapper">

<div id="TopContainer"> <!-- Top section container -->

<div id="TopColumnL"> <!-- Column 1 -->


<!-- Top Profile block -->
<div class="columnContent" style="margin-bottom: 5px;">
        <div class="contentContainer">
	<div class="sectionHeader rowContainer skillN" style="position: relative;">
		<input type="text" name="attr_charRankBase" value="0" hidden="true">

		<div>
		<input type="text" name="attr_charRankNum" value="0" hidden="true">
<input class="outfitRank" type="text" name="attr_charaRankCalculated" value="@{charRankBase}" placeholder="0" disabled="true" title="Rank">
		</div>

		<input type="text" class="transpInput contentName" name="attr_character_name" placeholder="Character Name">

	<div class="rowContainer half levelBox">
                        
                        <div id="Level">
                            <div class="columnAlign">Level<input type="text" class="outfitRank darkInput" name="attr_level" id="level_value" value="floor(@{EXP}/8)" disabled="true">
                            </div>
			</div>

			<div id="EXP">
                            <div class="columnAlign">EXP<input type="number" class="darkInput" name="attr_EXP" value="0"></div>
                        </div>

         </div>

	</div>

<div class="CharImage"><img name="attr_character_avatar"><div class="CharImageText">Photo</div></div>

<div class="profileData">
<div class="textSection">Occupation</div>
<input class="CharJob" type="text" name="attr_character_job"></div>
                        
<div class="profileData">
<div class="textSection">Age</div>
<input class="CharAge" type="text" name="attr_age"></div>

<div class="profileData">
<div class="textSection">Height</div>
<input class="CharHeight" type="text" name="attr_height"></div>

<div class="profileData">
<div class="textSection">Birthplace</div>
<input class="CharOrigin" type="text" name="attr_character_origin"></div>

<div class="profileData">
<div class="textSection">Residence</div>
<input class="CharResidence" type="text" name="attr_character_residence"></div>

<div class="profileData">
<div class="textSection">Assets</div>
<input class="CharResidence" type="text" name="attr_character_assets" placeholder="Money, items, other assets."></div>

<div class="profileData">
<div class="textSection">URL</div>
<input class="CharResidence" type="text" name="attr_character_url" placeholder="External sheet/reference"></div>
                            
<div class="profileData">
<div class="textSection">Summary</div>
<textarea spellcheck="false"  name="attr_character_summary"  class="CharTopNotes" placeholder="General character summary."></textarea></div>

<div class="profileData">
<div class="textSection">Combat Notes</div>
<textarea spellcheck="false"  name="attr_character_combatnote"  class="CharTopNotes" placeholder="Reminders for passive effects, extra damage, etc."></textarea></div>


                    </div>
                </div>
<!-- Top profile END -->

                <div class="columnContent">
                    <div class="contentContainer" style="margin-top: 10px;">

	<div class="sectionHeader rowContainer BLACK">

<input type="text" class="transpInput contentName" name="attr_egoName" placeholder="Mystery name (E.G.O)" style="margin-left: 35px; width: 100% !important">
	

<div class="iconHolder">

		<div>
		<div class="attackIcon">
		<div class="typeIcon question"></div>
		</div>


		<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Weapon">
		<div class="hide-item">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_egoWeaponType"><div class="type-image typeIcon egoSlash BLACK"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_egoWeaponType"><div class="type-image typeIcon egoPierce BLACK"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_egoWeaponType"><div class="type-image typeIcon egoBlunt BLACK"></div>
		</div>

		<div style="position: absolute; top:0; left: 0; width: 100%;">
		<input type="checkbox" class="transpInput egoCheck" name="attr_egoActiveState" value="true" style="accent-color: #cc4125 !important;" title="Activate Mystery">
		</div>

		</div>
		</div></div>

		<div>
		<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Outfit">
		<div class="hide-item">
<input type="checkbox" class="transpInput egoCheck" name="attr_egoActiveState" value="true" style="accent-color: #6d9eeb !important;" title="Activate Mystery">

		<div class="attackIcon">
		<div class="typeIcon egoDef"></div>
		</div>

		</div></div>

		<div>
		<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Tool">
		<div class="hide-item">
<input type="checkbox" class="transpInput egoCheck" name="attr_egoActiveState" value="true" style="accent-color: #8e7cc3 !important;" title="Activate Mystery">

		<div class="attackIcon">
		<div class="typeIcon egoAct"></div>
		</div>

		</div></div>

		<div>
		<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Special">
		<div class="hide-item">
		<input type="checkbox" class="transpInput egoCheck" name="attr_egoActiveState" value="true" style="accent-color: #cf8c44 !important;" title="Activate Mystery">

		<div class="attackIcon">
		<div class="typeIcon egoSpecial"></div>
		</div>

		</div></div>

	</div>

	<div class="rowContainer toolDescription centerFlex BLACK">
	<input class="outfitRank whiteInput" name="attr_egoRank" value="0" placeholder="0" title="Rank" style="border: none;">

<div class="rowContainer centerFlex BLACK" style="margin-top: 7px;" title="Activation condition">
                                        <select name="attr_egoCondition" class="whiteInput half" style="height: 25px; margin-right: 5px;">
                                            <option value="None">---</option>
                                            <option value="AlwaysActive">Always active</option>
                                            <option value="HalfHealth">50% health</option>
                                            <option value="OnStagger">On stagger</option>
                                            <option value="EnemyDefeat">Enemy defeat</option>
                                            <option value="AllyDeath">Ally death</option>
                                        </select>

                                        <select name="attr_egoType" class="whiteInput half" style="height: 25px; margin-right: 5px;" title="Manifestation type">
                                            <option value="">---</option>
                                            <option value="Weapon">Weapon</option>
                                            <option value="Outfit">Outfit</option>
                                            <option value="Tool">Tool</option>
                                            <option value="Special">Special item</option>
                                        </select>

	</div>

        </div>

<input name="attr_egoIdeology" type="text" class="egoIdeologyInput" placeholder="Manifested ideology.">

<div class="rowContainer">
<textarea spellcheck="false"   name="attr_egoDescription" class="egoDescInput" placeholder="Mystery description." style="margin-bottom: 0px;"></textarea>

	<textarea spellcheck="false"   name="attr_egoEffect" placeholder="Mystery effects" style="margin-bottom: 0px;"></textarea>

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
<button type="action" class="darkInput shareButton" name="act_shareEgo" title="Share info"></button>

</div>

<!-- Weapon EGO menu -->
<div class="rowContainer centerFlex">
<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Weapon" hidden="true">
<div class="hide-item BLACK centerFlex" style="width: 100%; padding-top: 5px; padding-bottom: 5px;">

<div class="rowContainer centerFlex">

	<div class="dicerollBlock" title="Attack dice applied when Mystery is active." id="egoATK" style="margin-bottom: 5px;">
		<input type="text" class="diceNum" name="attr_egoWeaponDice1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoWeaponDice2" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoWeaponDice3" placeholder="0" value="0">
		</div>
	</div>

	<select name="attr_egoWeaponType" class="weapon_type whiteInput" title="Weapon type override">
 	<option value="" selected disabled hidden>---</option>
         <option value="Slash">Slash</option>
         <option value="Pierce">Pierce</option>
	 <option value="Blunt">Blunt</option>
         </select>

	<select name="attr_egoWeaponRange" class="weapon_type whiteInput" title="Weapon range override">
         <option value="Melee">Melee</option>
         <option value="Ranged">Ranged</option>
         </select>

</div>
</div>
<!-- Weapon EGO menu END -->


<!-- Outfit EGO menu -->
<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Outfit" hidden="true">
<div class="hide-item BLACK" style="padding-top: 5px; padding-bottom: 5px; width: 100%;">

	<div class="rowContainer centerFlex BLACK" style="margin-bottom: 5px;">

		<div class="dicerollBlock" title="Def dice applied when Mystery is active." id="egoDEF">
		<input type="text" class="diceNum" name="attr_egoDefDice1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoDefDice2" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoDefDice3" placeholder="0" value="0">
		</div>

		<div class="dicerollBlock" title="Evade dice applied when Mystery is active." id="egoEVD">
		<input type="text" class="diceNum" name="attr_egoEvdDice1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoEvdDice2" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoEvdDice3" placeholder="0" value="0">
		</div>

	</div>

	<div class="rowContainer centerFlex" style="width: 100%;">

	<div class="rowContainer resistanceChart BLACK" style="width: 200px;">
		<div class="rowContainer centerFlex">

	<div id="outfit_res_slash">
		<div class="resIconLeft">
		<div class="resistIcon slashNormal"></div>
		</div>
	</div>
                            <select name="attr_egoImmune1" class="outfitresistVal whiteInput dmg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

                            <select name="attr_egoImmune2" class="outfitresistVal whiteInput stg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

<div id="outfit_res_slashSTG">
		<div class="resIconRight">
		<div class="resistIcon slashNormalSTG"></div>
		</div>
	</div>
		</div>

		<div class="rowContainer centerFlex">
<div id="outfit_res_pierce">
		<div class="resIconLeft">
		<div class="resistIcon pierceNormal"></div>
		</div>
	</div>
                            <select name="attr_egoImmune3" class="outfitresistVal whiteInput dmg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

                            <select name="attr_egoImmune4" class="outfitresistVal whiteInput stg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>


<div id="outfit_res_pierceSTG">
		<div class="resIconRight">
		<div class="resistIcon pierceNormalSTG"></div>
		</div>
	</div>

		</div>

		<div class="rowContainer centerFlex">
<div id="outfit_res_blunt">
		<div class="resIconLeft">
		<div class="resistIcon bluntNormal"></div>
		</div>
	</div>


                            <select name="attr_egoImmune5" class="outfitresistVal whiteInput dmg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

                            <select name="attr_egoImmune6" class="outfitresistVal whiteInput stg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

<div id="outfit_res_bluntSTG">
		<div class="resIconRight">
		<div class="resistIcon bluntNormalSTG"></div>
		</div>
	</div>


		</div>
</div>
</div>

</div>
<!-- Outfit EGO menu end -->



</div> <!-- end EGO container -->


</div>
</div>

            <div id="TopColumnM"> <!-- column 2 -->
                        <div class="rowContainer titleHeader"><button type="action" class="qolButton" name="act_resetHealth" title="Reset values"> ! </button> <h4>Derived values</h4> </div>

                <div class="contentContainer darkBG">

<!-- row 1 -->
                    <div class="rowContainer">
	<input type="text" name="attr_dummy" value="0" hidden="true">
	<input type="text" name="attr_dummy2" value="0" hidden="true">
	<input type="text" name="attr_dummyIcon" value="0" hidden="true">
<div class="banner HPtext">Health
	<div class="rowContainer centerFlex bars">
	<input id="HPbar" class="Cstat HPtext" type="number" name="attr_HP" value="30">
	<input class="Mstat HP" type="text" name="attr_HP_max" value="30">
	</div>
</div>

	<div class="banner egoSTGRtext">Stagger Res
	<div class="rowContainer centerFlex bars">
	<input id="STGRbar" class="Cstat egoSTGRtext" type="number" name="attr_StagRes" value="20">
	<input class="Mstat egoSTGR" type="text" name="attr_StagRes_max" value="20">

	</div>
</div>

</div>

<!-- row 2 -->
		<div class="rowContainer">
	<div class="banner SANtext">Sanity
	<div class="rowContainer centerFlex bars">
	<input id="SANbar" class="Cstat SANtext" type="number" name="attr_SP" value="15">
	<input class="Mstat SAN" type="text" name="attr_SP_max" value="15">

	</div>
</div>

	<div class="banner LIGHTtext">Light
	<div class="rowContainer centerFlex bars">
	<input id="LIGHTbar" class="Cstat LIGHTtext" type="number" name="attr_Light" value="3">
	<input class="Mstat LIGHT" type="text" name="attr_Light_max" value="3">
	</div>
</div>
</div>

                </div>


               <div id="ailmentBlock">

 <div class="rowContainer titleHeader"><button type="action" class="qolButton" name="act_resetAilments" title="Reset all ailments"> ! </button> <h4>Status ailments</h4> </div>

                    <div class="contentContainer darkBG">

<div class="rowContainer centerFlex topRow ailmentStates">

<div class="toggleable">
<input type="checkbox" name="attr_PanicState" value="Panic" class="expand-toggle" id="state_Panic">
<label class="status_effect_item expand-btn" for="state_Panic">
<img src="https://64.media.tumblr.com/abe4b46394fdb5bf9d8edb7431b6053a/93376fe7e8a32371-35/s250x400/f60b2068c91fa77f019886efa8b3f287bd3d4c93.pnj" class="statusIcon panic" title="Panic">
<span>Panicked</span>
</label>
</div>

<div class="toggleable">
<input type="checkbox" name="attr_StaggerState" value="Staggered" id="state_Stagger" class="expand-toggle">
<label class="status_effect_item expand-btn" for="state_Stagger">
<img src="https://64.media.tumblr.com/b9f3b296de15bb71454258048d4da750/9f44d181165558c5-5d/s250x400/243cd40e96bb9805543cacb0ab186b7674609592.pnj" class="statusIcon staggered" title="Staggered">
<span>Staggered</span>
</label>
</div>

</div>

<div class="rowContainer centerFlex topRow ailmentStates">

<div class="toggleable">
<input type="checkbox" name="attr_SealState" id="state_Seal" value="Seal" class="expand-toggle">

<label class="status_effect_item expand-btn" for="state_Seal">
<img src="https://64.media.tumblr.com/24e5dd7d964e621bff03486deb299dd9/4f96c1507c227247-f3/s250x400/da5efb2885b805d030537a2d5b593366fec1f134.pnj" class="statusIcon noAction" title="Seal (Incapable of reactions)">

<span>Sealed</span>
</label>
</div>

<div class="toggleable">
<input type="checkbox" name="attr_ImmobileState" id="state_Immobile" value="Immobile" class="expand-toggle">

<label class="status_effect_item expand-btn" for="state_Immobile">
<img src="http://64.media.tumblr.com/a27092351512e906d75295d79e398179/ee8331c4a7e9016b-65/s250x400/9bde71e3a847e9ce652c6122296f8808fc8a3670.pnj" class="statusIcon noAction" title="Immobile (Incapable of action/reaction)">

<span>Immobile</span>
</label>
</div>

<div class="toggleable">
<input type="checkbox" name="attr_DefeatState" id="state_Defeat" value="Defeated" class="expand-toggle">
                                <label class="status_effect_item expand-btn" for="state_Defeat">
<img src="https://64.media.tumblr.com/20767cc5d761fa065b05c20d77027c88/ee8331c4a7e9016b-5d/s250x400/f591c8a489b4247b94bef6e5380985c9e08f89a6.pnj" class="statusIcon noCombat" title="Defeated (Incapable of combat)">
<span>Defeated</span>
</label>
</div>

</div>


<div class="rowContainer">
                                <div class="status_effect_item"><img src="https://64.media.tumblr.com/b663728482e88d39e9f6b2a021380153/ee8331c4a7e9016b-9f/s250x400/78df78d481199a2755e1ba3fae55cdabc79fce66.pnj" class="statusIcon" title="Burn"></div>
                                <div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Burn" value="0"></div>
                                <div class="status_effect_item"><img src="https://64.media.tumblr.com/ca5bf1aa0c06615828cf4fe067360b5a/ee8331c4a7e9016b-91/s250x400/236396acb530147c8e20e2d1feee4702271d5f00.pnj" class="statusIcon" title="Bleed"></div>
                                <div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Bleed" value="0"></div>

 <div class="status_effect_item"><img src="https://64.media.tumblr.com/1dd012a574e23615991641ef838db338/ee8331c4a7e9016b-5e/s250x400/8d6ddcb0523c57f405a5e7eae4fa485d380f1e94.pnj" class="statusIcon" title="Paralysis"></div>
                                <div class="status_effect_value"><input type="number" class="ailmentNum" min="0" name="attr_Paralysis" value="0">
<input type="number" name="attr_prevParalysis" value="0" hidden="true">
</div>

                            </div>
<div class="rowContainer">
                               
                <div class="status_effect_item">
	<img src="https://64.media.tumblr.com/b1b865829f70c9f7f11dcfcd31e40f18/ee8331c4a7e9016b-96/s250x400/1094f0a02a37e6c27a3dccc9e976b3151fe0bc30.pnj" class="statusIcon" title="Fragile">
		</div>
                <div class="status_effect_value">
		<input type="number" min="0" class="ailmentNum"name="attr_Fragile" value="0">
		</div>

<div class="status_effect_item"><img src="https://64.media.tumblr.com/cf60ef378e85d82c121fc83ea595789b/ee8331c4a7e9016b-3a/s250x400/c5addab5a1ff647f6b0aedbfcca8cf9922bf6c33.pnj" class="statusIcon" title="Protection"></div>
                                <div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_protection" value="0"></div>
                                <div class="status_effect_item"><img src="https://64.media.tumblr.com/972ae54cd56477c7607a36a2080a8b48/ee8331c4a7e9016b-29/s250x400/d80687e575257f7358fd48cfe96d30631225c24c.pnj" class="statusIcon" title="Stagger Protection"></div>
                                <div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_StaggerProtection" value="0"></div>

</div>


                           <div class="rowContainer">
                                <div class="status_effect_item"><img src="https://64.media.tumblr.com/aec111f5f5978738b027fea521ba9a35/93376fe7e8a32371-57/s250x400/6891da10d43bc8eed16485892134281172e1209b.pnj" class="statusIcon strength" title="Strength"></div><div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Strength" value="0"></div>
                                
                                <div class="status_effect_item"><img src="https://64.media.tumblr.com/a6976c77877adee1cdb5634e3b83ccb7/93376fe7e8a32371-7d/s250x400/20cea73b9d86e510242eee6d288cfe534860210a.pnj" class="statusIcon endurance" title="Endurance"></div><div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Endurance" value="0"></div>

                                <div class="status_effect_item"><img src="https://64.media.tumblr.com/ed1a72c1656e0a023e73b85f04508859/93376fe7e8a32371-c1/s250x400/f5581822b7cef72cd604b6b863dd99f78356280e.pnj" class="statusIcon haste" title="Haste"></div><div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Haste" value="0"></div>

                           </div>
                            <div class="rowContainer">
				<div class="status_effect_item"><img src="https://64.media.tumblr.com/e84e2c1c9700e99bd4037d478e3d8d3e/93376fe7e8a32371-2c/s250x400/95b90906c93b18149d407aca62dbf8fa4b0ecf4a.pnj" class="statusIcon feeble" title="Feeble"></div><div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Feeble" value="0"></div>

				<div class="status_effect_item"><img src="https://64.media.tumblr.com/e3af895cb2cb57ea0529daf52286ca9d/93376fe7e8a32371-e5/s250x400/4a06608eccceaa9cd88fb40575c1a2a36994256d.pnj" class="statusIcon disarm" title="Disarm"></div><div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Disarm" value="0"></div>
                                <div class="status_effect_item"><img src="https://64.media.tumblr.com/19d21dd00f4cd4ba752de2dade5fbf2b/93376fe7e8a32371-d7/s250x400/13ac8b98fd519c3cd1f6c7f2e005d3ac70d08979.pnj" class="statusIcon bind" title="Bind"></div><div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Bind" value="0"></div>
                            </div>
                            <div class="rowContainer">
                                <div class="status_effect_item"><img src="https://64.media.tumblr.com/7f044191dae800b13557a97267042454/4f96c1507c227247-6f/s250x400/a35059088eea58ec9089cd3797e8d7e97db982d8.pnj" class="statusIcon" title="Smoke"></div><div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Smoke" value="0"></div>

  <div class="status_effect_item"><img src="https://64.media.tumblr.com/b8dfaa3aa05007ef0fdd8692f937e77b/4f96c1507c227247-87/s250x400/37f59cea0c2943e680e5ac55b8dc74fa934f6c38.pnj" class="statusIcon" title="Charge"></div><div class="status_effect_value"><input type="number" min="0" class="ailmentNum" name="attr_Charge" value="0"></div>

 <div class="status_effect_item"><img src="https://64.media.tumblr.com/0e77adec859dffa9672d628f66ab68ab/375c7aaea5998c0c-4f/s250x400/e0d1fff729cbed4f0a36cdd201017035a6efe585.pnj" class="statusIcon" title="Fortune"></div> <div class="status_effect_value"><input type="number" class="ailmentNum" name="attr_Fortune" value="0">
<input type="number" name="attr_prevFortune" min="0" value="0" hidden="true">
</div>

</div>
                           <div class="rowContainer">

 <div class="status_effect_item"><input type="text" style="width: 35px; text-align: center;" class="whiteInput" name="attr_ExtraAilment1_name" placeholder="---"></div> <div class="status_effect_value"><input type="number" class="ailmentNum" name="attr_ExtraAilment1" value="0"></div>
                               
 <div class="status_effect_item"><input type="text" style="width: 35px; text-align: center;" class="whiteInput" name="attr_ExtraAilment2_name" placeholder="---"></div> <div class="status_effect_value"><input type="number" class="ailmentNum" name="attr_ExtraAilment2" value="0"></div>

 <div class="status_effect_item"><input type="text" style="width: 35px; text-align: center;" class="whiteInput" name="attr_ExtraAilment3_name" placeholder="---"></div> <div class="status_effect_value"><input type="number" class="ailmentNum" name="attr_ExtraAilment3" value="0"></div>


                            </div>
                      
                    </div>

                </div>


<!-- Skill data viewer -->
<div class="rowContainer" style="width: 250px; height: 158px;">
<input class="text" name="attr_selectName" value="" hidden="true">
<input class="text" name="attr_selectType" value="" hidden="true">
<input class="text" name="attr_selectRank" value="0" hidden="true">
<input class="text" name="attr_selectLight" value="0" hidden="true">
<input class="text" name="attr_selectDescription" value="" hidden="true">
<input class="text" name="attr_selectEffect" value="" hidden="true">

<input class="text" name="attr_selectAtkDice1" value="0" hidden="true">
<input class="text" name="attr_selectAtkDice2" value="0" hidden="true">
<input class="text" name="attr_selectAtkDice3" value="0" hidden="true">

<input type="text" name="attr_selectDefDice1" value="0" hidden="true">
<input type="text" name="attr_selectDefDice2" value="0" hidden="true">
<input type="text" name="attr_selectDefDice3" value="0" hidden="true">

<input type="text" name="attr_selectEvdDice1" value="0" hidden="true">
<input type="text" name="attr_selectEvdDice2" value="0" hidden="true">
<input type="text" name="attr_selectEvdDice3" value="0" hidden="true">

<input type="text" name="attr_selectDice1" value="0" hidden="true">
<input type="text" name="attr_selectDice2" value="0" hidden="true">
<input type="text" name="attr_selectDice3" value="0" hidden="true">

<input type="checkbox" class="hide-toggle-rev" name="attr_skillSelect" value="0" /checked>
<div class="hide-item-rev">

<div class="rowContainer titleHeader">
<input type="text" class="transpInput viewerName" name="attr_selectName" placeholder="Skill name" value="">

<div class="lightCost" style="position: absolute; top: 2px; right: 0px;" title="Light Cost"><input type="text" class="outfitRank" style="margin: 0px !important; padding: 0px !important;" name="attr_skillViewerLight" value="@{selectLight}" placeholder="0" disabled="true"></div></div>


	<div class="rowContainer weaponInfo" style="overflow: hidden; border-radius: 3px;">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_selectDescription" class="augmentDescriptionInput noHover" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_selectEffect" class="weaponEffectInput noHover" placeholder="Skill effects."></textarea>
        </div> 

<div>
<input type="checkbox" class="hide-toggle" name="attr_selectCancel" value="true">
<div class="hide-item LIGHTtext" style="position: absolute; top: 0px; left: 0px; background-color: rgba(0,0,0,0.65); height: 100%; width: 100%; padding-top: 45px;">
<b>NOT ENOUGH LIGHT</b>
	</div>
	</div>

	</div>

	</div>
</div>
<!-- Skill data viewer END -->
 

            </div>
            <!-- Stats Section -->
            <div id="TopColumnR">

<div class="rowContainer titleHeader"><button type="action" class="qolButton" name="act_resetStats" title="Reset stats"> ! </button> <h4>Stats</h4></div>

                <div class="contentContainer darkBG" id="baseStats">

		<div class="rowContainer">

		<!-- Instinct -->
              	<div class="statBlock">
			<div class="statImage">
			<div class="statInput" id="InstinctStat" title="Instinct"> 
			<input type="text" class="instinct" name="attr_instinct" value="0">
			</div>
</div>
		<div class="statHeader instinct" title="Roll Instinct">
<button type="action" class="challengeButton instinct" name="act_rollChallenge" id="autoroll_instinct">Instinct</button>

		</div>
	
			
		</div>

		<!-- Wisdom -->
		<div class="statBlock">
			<div class="statImage">
			<div class="statInput" id="WisdomStat" title="Wisdom"> 
			<input type="text" class="wisdom" name="attr_wisdom" value="0">
			</div>

			</div>

			<div class="statHeader wisdom" title="Roll Wisdom">

<button type="action" class="challengeButton wisdom" name="act_rollChallenge" id="autoroll_wisdom">Wisdom</button>

			</div>

		</div>

		<!-- Justice -->
		<div class="statBlock">
			<div class="statImage">
			<div class="statInput" id="JusticeStat" title="Justice"> 
			<input type="text" class="justice" name="attr_justice" value="0">
			</div>

			</div>

			<div class="statHeader justice" title="Roll Justice">

<button type="action" class="challengeButton justice" name="act_rollChallenge" id="autoroll_justice">Justice</button>
			
			</div>
		</div>
	</div>
	<!-- Stat first row end -->



	<div class="rowContainer">
		<!-- Charm -->
		<div class="statBlock">
			<div class="statImage">
			<div class="statInput" id="CharmStat" title="Charm"> 
			<input type="text" class="charm" name="attr_charm" value="0">
			</div>

			</div>

			<div class="statHeader charm" title="Roll Charm">

<button type="action" class="challengeButton charm" name="act_rollChallenge" id="autoroll_charm">Charm</button>
			
			</div>
		</div>

		<!-- Insight -->
		<div class="statBlock">
			<div class="statImage">
			<div class="statInput" id="InsightStat" title="Insight"> 
			<input type="text" class="insight" name="attr_insight" value="0">
			</div>

			</div>

			<div class="statHeader insight" title="Roll Insight">

<button type="action" class="challengeButton insight" name="act_rollChallenge" id="autoroll_insight">Insight</button>
			
			</div>
		</div>

		<!-- Temperance -->
		<div class="statBlock">
			<div class="statImage">
			<div class="statInput" id="TemperanceStat" title="Temperance"> 
			<input type="text" class="temperance" name="attr_temperance" value="0">
			</div>

			</div>

			<div class="statHeader temperance" title="Roll: 2d6 + Temperance + Difficulty">

<button type="action" class="challengeButton temperance" name="act_rollChallenge" id="autoroll_temperance">Temperance</button>
			
			</div>
		</div>

	</div>
	<!-- Stat row2 end --> 

                </div>

	<!-- Roll helper palette -->
	<div class="rowContainer titleHeader"><button type="action" class="qolButton" name="act_resetHelpers" title="Reset roll helpers"> ! </button> <h4>Roll palette</h4> </div>

	<input type="checkbox" class="helperText" name="attr_settingHelperText" value="true" hidden="true">
	<div class="contentContainer darkBG helperTextContainer">

	<div class="rowContainer">

		<div class="columnAlign helpers">
		<b>Power</b>
		<div style="margin-top: 5px !important;">
		<input type="text" style="width: 40px;" class="power HPtext darkInput" name="attr_powerATT" value="@{instinct}+@{Strength}-@{Feeble}" disabled="true" title="Att Power: Instinct + (Strength, Feeble)">
		<input type="text" style="width: 40px;" class="power SANtext darkInput" name="attr_powerDEF" value="@{temperance}+@{Endurance}-@{Disarm}" disabled="true" title="Def Power: Temperance + (Endurance, Disarm)">
		<input type="text" style="width: 40px;" class="power STGRtext darkInput" name="attr_powerEVD" value="@{insight}" disabled="true" title="Evd Power: Insight">
		</div>

		</div>
	

<div class="columnAlign helpers">

<b>Speed</b>
<div class="sideDice rowContainer centerFlex">
	<input type="text" name="attr_baseSpeed" value="0" hidden="true">
	<input type="text" class="speedbox whiteInput" name="attr_calcSpeed" value="@{baseSpeed}+@{Haste}-@{Bind}" disabled="true" title="Current Speed: Speed + (Haste, Bind)">
	<button type="action" class="speed" name="act_rollChallenge" id="autoroll_speed" title="Roll Speed: 1d6 + Justice"></button>
</div>	

<div class="sideDice" title="Difficulty: Adjustable Power modifier">
		<input type="number" class="whiteInput" name="attr_difficulty" value="0" style="height: 55px !important; width: 70px; font-size: 12pt; text-align: center; margin-top: 3px; margin-bottom: 2px;"><b>Difficulty</b>
		</div>	

</div>

<div class="columnAlign centerFlex helpers">

<b>Luck</b>
<div class="sideDice rowContainer centerFlex">
<input type="text" name="attr_baseLuckNum" value="0" hidden="true">
<input type="text" class="speedbox whiteInput" name="attr_luckNum" value="@{baseLuckNum}" disabled="true" title="Last rolled Luck result">
	<button type="action" class="speed luck" id="autoroll_luck" name="act_rollChallenge" title="Roll Luck: 2d6 + Difficulty"></button>
</div>


		<div title="Disadvantage" class="rowContainer centerFlex">
		<input type="text" name="attr_disadvBase" value="0" hidden="true">
<input type="text" class="outfitRank transpInput" style="border: 2px #cc4125 solid;" name="attr_disadvNum" min="0" value="@{disadvBase}" disabled="true"><input type="checkbox" name="attr_advState" value="Disadvantage" style="accent-color: #cc4125; height: 30px !important;">
		</div>

		<div title="Advantage" class="rowContainer centerFlex">
		<input type="text" name="attr_advBase" value="0" hidden="true">
		<input type="text" class="outfitRank transpInput" style="border: 2px #93c47d solid;" name="attr_advNum" value="@{advBase}" disabled="true"><input type="checkbox" min="0" name="attr_advState" value="Advantage" style="accent-color: #93c47d; height: 30px !important;">
		</div>
		<b>Advantages</b>

	</div>

<div class="columnAlign helpers">

<b>Update</b>

<div class="sideDice columnAlign centerFlex">
<input type="text" name="attr_baseActNum" value="0" hidden="true">
<button type="action" class="speed next" name="act_updateAilments" style="height: 50px; width: 50px; margin-top: 2px; margin-bottom: 5px;" title="Update Ailments (Round-end)"></button>

<input type="text" class="speedbox whiteInput" name="attr_actNum" value="@{baseActNum}" disabled="true" title="Actions/Reactions taken in Round" style="width: 50px !important; margin-top: 4px; margin-bottom: 6px;">
	
</div>
<b>Tracker</b>
</div>
		

	</div></div>
	<!-- Helper END -->


	<!-- Combat palette -->
              <div class="status_effect" style="margin-top: 10px;">

                    <div class="contentContainer darkBG">
                     
	<!-- Weapon 1 Palette -->
	<div class="weaponSlot">
	<div class="rowContainer weapon paletteButton"> <!-- color portion -->

	<div class="rowContainer half centerFlex">
		<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_weapon1Type"><div class="type-image typeIcon slash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_weapon1Type"><div class="type-image typeIcon pierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_weapon1Type"><div class="type-image typeIcon blunt"></div>
		</div>

		</div>

	<input type="text" class="combatPaletteName transpInput" name="attr_weapon1Name" placeholder="Weapon (1)">

	</div>

	<div class="rowContainer half" style="position: relative;">
	
	<div class="paletteRange">
		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_weapon1Range" value="Melee" hidden="true"><div class="hide-item" title="Melee">M</div>
		</div>

		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_weapon1Range" value="Ranged" hidden="true"><div class="hide-item" title="Ranged">R</div>
		</div>
	</div>


	<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_weapon1Roll1" placeholder="1" value="(@{weapon1Dice1} + @{selectAtkDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_weapon1Roll2" placeholder="6" value="(@{weapon1Dice2} + @{selectAtkDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_weapon1Roll3" placeholder="0" value="(@{weapon1Dice3}+@{instinct}+@{selectAtkDice3}+@{Strength}-@{Feeble}+@{difficulty})" disabled="true">
	</div>

	<button type="action" class="NDice" id="autoroll_weapon1" name="act_rollCombat"></button>



	</div> <!-- weapon 1 (under) end -->

	<!-- EGO (Weapon 1) Palette -->
	<div class="paletteOverride">

	<input type="checkbox" class="hide-toggle" name="attr_egoActiveState" value="true">
	<div class="hide-item">

		<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Weapon">
		<div class="hide-item">
	
		<!-- actual content -->
		<div class="rowContainer egoAttPalette paletteButton">
		<div class="rowContainer half centerFlex">

		<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_egoWeaponType"><div class="type-image typeIcon egoSlash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_egoWeaponType"><div class="type-image typeIcon egoPierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_egoWeaponType"><div class="type-image typeIcon egoBlunt"></div>
		</div>

		</div>

	<input type="text" class="combatPaletteName transpInput" name="attr_egoName" placeholder="Mystery weapon">

		</div> <!-- first half -->

	<div class="rowContainer half" style="position: relative;">
	
	<div class="paletteRange">
		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_egoWeaponRange" value="Melee" hidden="true"><div class="hide-item HPtext" title="Melee">M</div>
		</div>

		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_egoWeaponRange" value="Ranged" hidden="true"><div class="hide-item HPtext" title="Ranged">R</div>
		</div>
	</div>


	<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_egoWeaponRoll1" placeholder="1" value="(@{egoWeaponDice1} + @{selectAtkDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_egoWeaponRoll2" placeholder="6" value="(@{egoWeaponDice2} + @{selectAtkDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_egoWeaponRoll3" placeholder="0" value="(@{egoWeaponDice3}+@{instinct}+@{selectAtkDice3}+@{Strength}-@{Feeble}+@{difficulty})" disabled="true">
	</div>

<button type="action" class="NDice" id="autoroll_egoWeapon" name="act_rollCombat"></button>
			

	<!-- EGO (Weapon 1) Palette END -->
		</div>
        </div>
	<!-- Weapon 1 Palette END -->
	</div></div></div></div></div>

	<!-- Weapon 2 Palette -->
	<div class="weaponSlot">
			<input type="checkbox" class="hide-toggle-rev" name="attr_weapon2Name" value="" hidden="true" /checked>
	<div class="hide-item-rev" style="width: 100%;">

	<div class="rowContainer weapon paletteButton">

	<div class="rowContainer half centerFlex">
		<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_weapon2Type"><div class="type-image typeIcon slash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_weapon2Type"><div class="type-image typeIcon pierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_weapon2Type"><div class="type-image typeIcon blunt"></div>
		</div>

		</div>

	<input type="text" class="combatPaletteName transpInput" name="attr_weapon2Name" placeholder="Weapon (2)">

	</div>

	<div class="rowContainer half" style="position: relative;">
	
	<div class="paletteRange">
		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_weapon2Range" value="Melee" hidden="true"><div class="hide-item" title="Melee">M</div>
		</div>

		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_weapon2Range" value="Ranged" hidden="true"><div class="hide-item" title="Ranged">R</div>
		</div>
	</div>


		<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_weapon2Roll1" placeholder="1" value="(@{weapon2Dice1} + @{selectAtkDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_weapon2Roll2" placeholder="6" value="(@{weapon2Dice2} + @{selectAtkDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_weapon2Roll3" placeholder="0" value="(@{weapon2Dice3}+@{instinct}+@{selectAtkDice3}+@{Strength}-@{Feeble}+@{difficulty})" disabled="true">
	</div>

	<button type="action" class="NDice" id="autoroll_weapon2" name="act_rollCombat"></button>
	</div>

		</div>
        </div>
	</div>

	<!-- Weapon 2 Palette END -->


	<!-- Weapon EXTRA palette -->
		<!-- Weapon 3 Palette -->
	<div class="weaponSlot">
			<input type="checkbox" class="hide-toggle-rev" name="attr_weapon3Name" value="" hidden="true" /checked>
	<div class="hide-item-rev" style="width: 100%;">

	<div class="rowContainer weapon paletteButton">

	<div class="rowContainer half centerFlex">
		<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_weapon3Type"><div class="type-image typeIcon slash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_weapon3Type"><div class="type-image typeIcon pierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_weapon3Type"><div class="type-image typeIcon blunt"></div>
		</div>

		</div>

	<input type="text" class="combatPaletteName transpInput" name="attr_weapon3Name" placeholder="Weapon (3)">

	</div>

	<div class="rowContainer half" style="position: relative;">
	
	<div class="paletteRange">
		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_weapon3Range" value="Melee" hidden="true"><div class="hide-item" title="Melee">M</div>
		</div>

		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_weapon3Range" value="Ranged" hidden="true"><div class="hide-item" title="Ranged">R</div>
		</div>
	</div>


		<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_weapon3Roll1" placeholder="1" value="(@{weapon3Dice1} + @{selectAtkDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_weapon3Roll2" placeholder="6" value="(@{weapon3Dice2} + @{selectAtkDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_weapon3Roll3" placeholder="0" value="(@{weapon3Dice3}+@{instinct}+@{selectAtkDice3}+@{Strength}-@{Feeble}+@{difficulty})" disabled="true">
	</div>

	<button type="action" class="NDice" id="autoroll_weapon3" name="act_rollCombat"></button>
	</div>

		</div>
        </div>
	</div>

	<!-- Weapon 3 Palette END -->

	<!-- Weapon 4 Palette -->
	<div class="weaponSlot">
			<input type="checkbox" class="hide-toggle-rev" name="attr_weapon4Name" value="" hidden="true" /checked>
	<div class="hide-item-rev" style="width: 100%;">

	<div class="rowContainer weapon paletteButton">

	<div class="rowContainer half centerFlex">
		<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_weapon4Type"><div class="type-image typeIcon slash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_weapon4Type"><div class="type-image typeIcon pierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_weapon4Type"><div class="type-image typeIcon blunt"></div>
		</div>

		</div>

	<input type="text" class="combatPaletteName transpInput" name="attr_weapon4Name" placeholder="Weapon (4)">

	</div>

	<div class="rowContainer half" style="position: relative;">
	
	<div class="paletteRange">
		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_weapon4Range" value="Melee" hidden="true"><div class="hide-item" title="Melee">M</div>
		</div>

		<div class="buffer">
		<input type="checkbox" class="hide-toggle" name="attr_weapon4Range" value="Ranged" hidden="true"><div class="hide-item" title="Ranged">R</div>
		</div>
	</div>


	<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_weapon4Roll1" placeholder="1" value="(@{weapon4Dice1} + @{selectAtkDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_weapon4Roll2" placeholder="6" value="(@{weapon4Dice2} + @{selectAtkDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_weapon4Roll3" placeholder="0" value="(@{weapon4Dice3}+@{instinct}+@{selectAtkDice3}+@{Strength}-@{Feeble}+@{difficulty})" disabled="true">
	</div>

	<button type="action" class="NDice" id="autoroll_weapon4" name="act_rollCombat"></button>
	</div>

		</div>
        </div>
	</div>

	<!-- Weapon 4 Palette END -->

	<!-- Weapon EXTRA palette END -->

	

	<!-- Def/Evd palette -->
	<div class="rowContainer">

	<!-- Action Palette -->
	<div class="rowContainer half" style="margin-right: 5px;">
	<div class="rowContainer centerFlex tool paletteButton" style="height: 63px;">

	<div style="width: 100% !important;">
	<select name="attr_actionType" class="darkInput" style="margin-top: 9px; height: 35px !important;">
         <option value="Tool">Use Tool</option>
         <option value="Move">Move</option>
         <option value="Protect">Protect</option>
	 <option value="Other">Other</option>
         </select>
	</div>

	<button type="action" class="declare" name="act_declareAction">Action</button>

	</div>
	</div>
	<!-- Action Palette END -->

	<!-- Def Palette -->
	<div class="rowContainer columnAlign half">
	<div class="rowContainer outfit paletteButton" style="justify-content: flex-start;">

		<div class="iconHolder">
		<div class="type-image typeIcon defend"></div>
		</div>

		<div class="rowContainer" style="width: 100%; position: absolute; top: 0; left: -2px;">

			<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_defRoll1" placeholder="1" value="(@{defDice1} + @{selectDefDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_defRoll2" placeholder="6" value="(@{defDice2} + @{selectDefDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_defRoll3" placeholder="0" value="(@{defDice3}+@{temperance}+@{selectDefDice3}+@{Endurance}-@{Disarm}+@{difficulty})" disabled="true">
	</div>



	<button type="action" class="NDice" id="autoroll_def" name="act_rollCombat"></button>		
		</div>

	<!-- EGO (Def) Palette -->
	<div class="paletteOverride">

	<input type="checkbox" class="hide-toggle" name="attr_egoActiveState" value="true">
	<div class="hide-item">

		<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Outfit">
		<div class="hide-item">
	
		<div class="rowContainer egoDefPalette paletteButton" style="justify-content: flex-start;">
		<div class="iconHolder">
		<div class="type-image typeIcon egoDef"></div>
		</div>

		<div class="rowContainer" style="width: 100%; position: absolute; top: 0; left: -2px;">
	<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_egoDefRoll1" placeholder="1" value="(@{egoDefDice1} + @{selectDefDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_egoDefRoll2" placeholder="6" value="(@{egoDefDice2} + @{selectDefDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_egoDefRoll3" placeholder="0" value="(@{egoDefDice3}+@{temperance}+@{selectDefDice3}+@{Endurance}-@{Disarm}+@{difficulty})" disabled="true">
	</div>

<button type="action" class="NDice" id="autoroll_egoDef" name="act_rollCombat"></button>			
		</div>

	</div>


		</div>
	</div>

	</div>
	<!-- EGO (Def) Palette END -->

	</div>
              

	<!-- Defend Palette END -->

	<!-- Evade Palette -->
	<div class="rowContainer STGR paletteButton" style="justify-content: flex-start;">

		<div class="iconHolder">
		<div class="type-image typeIcon evade"></div>
		</div>

		<div class="rowContainer" style="width: 100%; position: absolute; top: 0; left: -2px;">
		<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_evdRoll1" placeholder="1" value="(@{evdDice1} + @{selectEvdDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_evdRoll2" placeholder="6" value="(@{evdDice2} + @{selectEvdDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_evdRoll3" placeholder="0" value="(@{evdDice3}+@{insight}+@{selectEvdDice3}+@{difficulty})" disabled="true">
	</div>

<button type="action" class="NDice" id="autoroll_evd" name="act_rollCombat"></button>			
		</div>

	<!-- EGO (Evd) Palette -->
	<div class="paletteOverride">

	<input type="checkbox" class="hide-toggle" name="attr_egoActiveState" value="true">
	<div class="hide-item">

		<input type="checkbox" class="hide-toggle" name="attr_egoType" value="Outfit">
		<div class="hide-item">
	

<div class="rowContainer egoEvdPalette paletteButton" style="justify-content: flex-start;">

		<div class="iconHolder">
		<div class="type-image typeIcon egoEvd"></div>
		</div>

		<div class="rowContainer" style="width: 100%; position: absolute; top: 0; left: -2px;">
		<div class="rowContainer darkInput paletteDice">
			<input type="text" name="attr_egoEvdRoll1" placeholder="1" value="(@{egoEvdDice1} + @{selectEvdDice1})" disabled="true">
			<div class="plainText">D</div>
			<input type="text" name="attr_egoEvdRoll2" placeholder="6" value="(@{egoEvdDice2} + @{selectEvdDice2})" disabled="true">
			<div class="plainText">+</div>
			<input type="text" name="attr_egoEvdRoll3" placeholder="0" value="(@{egoEvdDice3}+@{insight}+@{selectEvdDice3}+@{difficulty})" disabled="true">
	</div>

<button type="action" class="NDice" id="autoroll_egoEvd" name="act_rollCombat"></button>			
		</div>

	</div>

		</div>


		</div>
	</div>

	</div>
	<!-- EGO (Evd) Palette END -->



		</div>
	<!-- Evade Palette END -->
              
	</div>
	<!-- Def/Evd section END -->


	<div class="skillSelect">

<!-- Skill selection area -->

<div class="rowContainer centerFlex" style="width: 100%; flex-wrap: wrap; margin-top: 5px;">

<!-- EGO Skill 1 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_egoActiveState" value="0" hidden="true" /checked>
<input type="checkbox" class="hide-toggle-rev" name="attr_egoSkill1Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-egoSkill1" class="skillSelector" type="checkbox" name="attr_skillSelect" value="egoSkill1">
	<label for="select-egoSkill1" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_egoSkill1Name" placeholder="MYS Skill (1)">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill1Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill1Type"><div class="skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill1Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill1Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill1Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill1Type"><div class="type-image skillIcon skillMass"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- EGO Skill 1 block END -->

<!-- Skill 1 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_skill1Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-skill1" class="skillSelector" type="checkbox" name="attr_skillSelect" value="skill1">
	<label for="select-skill1" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_skill1Name" placeholder="Skill (1)">

<div class="iconHolder">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill1Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill1Type"><div class="skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill1Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill1Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill1Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill1Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- Skill 1 block END -->

<!-- EGO Skill 2 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_egoActiveState" value="0" hidden="true" /checked>
<input type="checkbox" class="hide-toggle-rev" name="attr_egoSkill2Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-egoSkill2" class="skillSelector" type="checkbox" name="attr_skillSelect" value="egoSkill2">
	<label for="select-egoSkill2" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_egoSkill2Name" placeholder="MYS Skill (2)">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill2Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill2Type"><div class="skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill2Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill2Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill2Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill2Type"><div class="type-image skillIcon skillMass"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- EGO Skill 2 block END -->

<!-- Skill 2 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_skill2Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-skill2" class="skillSelector" type="checkbox" name="attr_skillSelect" value="skill2">
	<label for="select-skill2" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_skill2Name" placeholder="Skill (2)">

<div class="iconHolder">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill2Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill2Type"><div class="skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill2Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill2Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill2Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill2Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- Skill 2 block END -->

<!-- EGO Skill 3 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_egoActiveState" value="0" hidden="true" /checked>
<input type="checkbox" class="hide-toggle-rev" name="attr_egoSkill3Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-egoSkill3" class="skillSelector" type="checkbox" name="attr_skillSelect" value="egoSkill3">
	<label for="select-egoSkill3" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_egoSkill3Name" placeholder="MYS Skill (3)">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill3Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill3Type"><div class="skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill3Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill3Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill3Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill3Type"><div class="type-image skillIcon skillMass"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- EGO Skill 3 block END -->


<!-- Skill 3 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_skill3Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-skill3" class="skillSelector" type="checkbox" name="attr_skillSelect" value="skill3">
	<label for="select-skill3" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_skill3Name" placeholder="Skill (3)">

<div class="iconHolder">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill3Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill3Type"><div class="skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill3Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill3Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill3Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill3Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- Skill 3 block END -->

<!-- EGO Skill 4 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_egoActiveState" value="0" hidden="true" /checked>
<input type="checkbox" class="hide-toggle-rev" name="attr_egoSkill4Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-egoSkill4" class="skillSelector" type="checkbox" name="attr_skillSelect" value="egoSkill4">
	<label for="select-egoSkill4" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_egoSkill4Name" placeholder="MYS Skill (4)">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill4Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill4Type"><div class="skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill4Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill4Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill4Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill4Type"><div class="type-image skillIcon skillMass"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- EGO Skill 4 block END -->

<!-- Skill 4 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_skill4Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-skill4" class="skillSelector" type="checkbox" name="attr_skillSelect" value="skill4">
	<label for="select-skill4" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_skill4Name" placeholder="Skill (4)">

<div class="iconHolder">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill4Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill4Type"><div class="skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill4Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill4Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill4Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill4Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- Skill 4 block END -->

<!-- EGO Skill 5 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_egoActiveState" value="0" hidden="true" /checked>
<input type="checkbox" class="hide-toggle-rev" name="attr_egoSkill5Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-egoSkill5" class="skillSelector" type="checkbox" name="attr_skillSelect" value="egoSkill5">
	<label for="select-egoSkill5" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_egoSkill5Name" placeholder="MYS Skill (5)">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill5Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill5Type"><div class="skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill5Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill5Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill5Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill5Type"><div class="type-image skillIcon skillMass"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- EGO Skill 5 block END -->

<!-- Skill 5 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_skill5Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-skill5" class="skillSelector" type="checkbox" name="attr_skillSelect" value="skill5">
	<label for="select-skill5" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_skill5Name" placeholder="Skill (5)">

<div class="iconHolder">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill5Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill5Type"><div class="skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill5Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill5Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill5Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill5Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- Skill 5 block END -->

<!-- EGO Skill 6 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_egoActiveState" value="0" hidden="true" /checked>
<input type="checkbox" class="hide-toggle-rev" name="attr_egoSkill6Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-egoSkill6" class="skillSelector" type="checkbox" name="attr_skillSelect" value="egoSkill6">
	<label for="select-egoSkill6" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_egoSkill6Name" placeholder="MYS Skill (6)">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill6Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill6Type"><div class="skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill6Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill6Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill6Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill6Type"><div class="type-image skillIcon skillMass"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- EGO Skill 6 block END -->

<!-- Skill 6 Palette -->
<div class="skillBuffer">
<input type="checkbox" class="hide-toggle-rev" name="attr_skill6Type" value="0" hidden="true" /checked>
	<div class="hide-item-rev skillhide">
	<div class="rowContainer paletteButton skillSelectionElement" style="width: 100%;">

	<input id="select-skill6" class="skillSelector" type="checkbox" name="attr_skillSelect" value="skill6">
	<label for="select-skill6" class="skillSelectionLabel" style="width: 100%;">
	<div class="skillWrap">
	<input type="text" class="combatPaletteName skillSelectionName" name="attr_skill6Name" placeholder="Skill (6)">

<div class="iconHolder">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill6Type"><div class="skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill6Type"><div class="skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill6Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill6Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill6Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill6Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

	</div>

	</div>

	</label>
	</div>
	</div>
</div>
<!-- Skill 6 block END -->

    
	</div> <!-- Skill palette END -->
	</div> <!-- Skill section end -->

</div>
            </div>
        </div>

</div>
</div>

<input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab"  value="equipment">
<div class="toggleButtons">
    <button type="action" id="detailsButton" name="act_details" >Character Details</button>
    <button type="action" id="equipmentButton" name="act_equipment" >Equipment</button>
    <button type="action" id="skillsButton" name="act_skills" >Skills</button>
</div>


<!-- Equipment section -->
	<div class="sheet-body sheet-equipment darkBG">
        <div class="contentBlock" id="equipmentSection">
            <div class="weaponContainer">
               
<!-- Weapon1 block -->
<div class="contentContainer">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
<button type="action" class="darkInput shareButton" id="share_weapon1" name="act_shareWeapon" title="Share info"></button>

	<!-- Weapon 1 header -->
	<div class="sectionHeader weapon">


	<input type="text" class="outfitRank" name="attr_weapon1Rank" placeholder="0" title="Rank">
	<input type="text" class="transpInput contentName" name="attr_weapon1Name" placeholder="Weapon Name (1)">

	<!-- Weapon dice roll block -->
	<div class="rowContainer combatDice">

<div class="weaponIcons">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_weapon1Type"><div class="type-image typeIcon slash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_weapon1Type"><div class="type-image typeIcon pierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_weapon1Type"><div class="type-image typeIcon blunt"></div>
		</div>
	</div>


		<div class="dicerollBlock">
		<input type="text" class="diceNum" name="attr_weapon1Dice1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_weapon1Dice2" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_weapon1Dice3" placeholder="0" value="0">
		</div>

	<div>
             
	<button type="action" class="NDice" id="autoroll_weapon1_raw" name="act_rollCombat"></button>

	</div>
	<!-- dice roll end -->

	</div></div>
	<!-- header end -->

	<div class="weaponRankBox weapon"> 

	<select name="attr_weapon1Type" class="weapon_type">
 	<option value="" selected disabled hidden>[Type]</option>
         <option value="Slash">Slash</option>
         <option value="Pierce">Pierce</option>
	 <option value="Blunt">Blunt</option>
         </select>


	<select name="attr_weapon1Range" class="weapon_distance">
	<option value="" selected disabled hidden>[Range]</option>
         <option value="Melee">Melee</option>
         <option value="Ranged">Ranged</option>
         </select>
	</div>

	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
	<div class="descHead"></div>
       <textarea spellcheck="false"  name="attr_weapon1Description" class="weaponDescriptionInput" placeholder="Weapon description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_weapon1Effect" class="weaponEffectInput" placeholder="Weapon effects."></textarea>
        </div>

	</div>
	<!-- desc end -->	

	</div>
<!-- Weapon 1 Block END -->

<!-- Weapon 2 block -->
<div class="contentContainer">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
<button type="action" class="darkInput shareButton" id="share_weapon2" name="act_shareWeapon" title="Share info"></button>

	<!-- Weapon 2 header -->
	<div class="sectionHeader weapon">
	<input type="text" class="outfitRank" name="attr_weapon2Rank" placeholder="0" title="Rank">
	<input type="text" class="transpInput contentName" name="attr_weapon2Name" placeholder="Weapon Name (2)">

	<!-- Weapon dice roll block -->
	<div class="rowContainer combatDice">

	<div class="weaponIcons">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_weapon2Type"><div class="type-image typeIcon slash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_weapon2Type"><div class="type-image typeIcon pierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_weapon2Type"><div class="type-image typeIcon blunt"></div>
		</div>

	</div>

		<div class="dicerollBlock">
		<input type="text" class="diceNum" name="attr_weapon2Dice1" placeholder="1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_weapon2Dice2" placeholder="6" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_weapon2Dice3" placeholder="0" value="0">
		</div>

	<div>
              
<button type="action" class="NDice" id="autoroll_weapon2_raw" name="act_rollCombat"></button>

	</div>
	<!-- dice roll end -->

	</div></div>
	<!-- header end -->

	<div class="weaponRankBox weapon">

	<select name="attr_weapon2Type" class="weapon_type">
	 <option value="" selected disabled hidden>[Type]</option>
         <option value="Slash">Slash</option>
         <option value="Pierce">Pierce</option>
	 <option value="Blunt">Blunt</option>
         </select>
 
	<select name="attr_weapon2Range" class="weapon_distance">
	<option value="" selected disabled hidden>[Range]</option>
         <option value="Melee">Melee</option>
         <option value="Ranged">Ranged</option>
         </select>
	</div>

	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
	<div class="descHead"></div>
       <textarea spellcheck="false"  name="attr_weapon2Description" class="weaponDescriptionInput" placeholder="Weapon description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_weapon2Effect" class="weaponEffectInput" placeholder="Weapon effects."></textarea>
        </div>

	</div>
	<!-- desc end -->	

	</div>
<!-- Weapon 2 Block END -->

<!-- !!EXTRA!! Weapons area -->
<input type="checkbox" class="hide-toggle" name="attr_settingExtraEquip" value="true">
<div class="hide-item">

<!-- Weapon3 block -->
<div class="contentContainer">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
<button type="action" class="darkInput shareButton" id="share_weapon3" name="act_shareWeapon" title="Share info"></button>

	<!-- Weapon 3 header -->
	<div class="sectionHeader weapon">


	<input type="text" class="outfitRank" name="attr_weapon3Rank" placeholder="0" title="Rank">
	<input type="text" class="transpInput contentName" name="attr_weapon3Name" placeholder="Weapon Name (3)">

	<!-- Weapon dice roll block -->
	<div class="rowContainer combatDice">

<div class="weaponIcons">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_weapon3Type"><div class="type-image typeIcon slash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_weapon3Type"><div class="type-image typeIcon pierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_weapon3Type"><div class="type-image typeIcon blunt"></div>
		</div>
	</div>


		<div class="dicerollBlock">
		<input type="text" class="diceNum" name="attr_weapon3Dice1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_weapon3Dice2" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_weapon3Dice3" placeholder="0" value="0">
		</div>

	<div>
              
<button type="action" class="NDice" id="autoroll_weapon3_raw" name="act_rollCombat"></button>

	</div>
	<!-- dice roll end -->

	</div></div>
	<!-- header end -->

	<div class="weaponRankBox weapon"> 

	<select name="attr_weapon3Type" class="weapon_type">
 	<option value="" selected disabled hidden>[Type]</option>
         <option value="Slash">Slash</option>
         <option value="Pierce">Pierce</option>
	 <option value="Blunt">Blunt</option>
         </select>


	<select name="attr_weapon3Range" class="weapon_distance">
	<option value="" selected disabled hidden>[Range]</option>
         <option value="Melee">Melee</option>
         <option value="Ranged">Ranged</option>
         </select>
	</div>

	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
	<div class="descHead"></div>
       <textarea spellcheck="false"  name="attr_weapon3Description" class="weaponDescriptionInput" placeholder="Weapon description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_weapon3Effect" class="weaponEffectInput" placeholder="Weapon effects."></textarea>
        </div>

	</div>
	<!-- desc end -->	

	</div>
<!-- Weapon 3 Block END -->

<!-- Weapon4 block -->
<div class="contentContainer">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
<button type="action" class="darkInput shareButton" id="share_weapon4" name="act_shareWeapon" title="Share info"></button>

	<!-- Weapon 4 header -->
	<div class="sectionHeader weapon">


	<input type="text" class="outfitRank" name="attr_weapon4Rank" placeholder="0" title="Rank">
	<input type="text" class="transpInput contentName" name="attr_weapon4Name" placeholder="Weapon Name (4)">

	<!-- Weapon dice roll block -->
	<div class="rowContainer combatDice">

<div class="weaponIcons">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Slash" name="attr_weapon4Type"><div class="type-image typeIcon slash"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Pierce" name="attr_weapon4Type"><div class="type-image typeIcon pierce"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Blunt" name="attr_weapon4Type"><div class="type-image typeIcon blunt"></div>
		</div>
	</div>


		<div class="dicerollBlock">
		<input type="text" class="diceNum" name="attr_weapon4Dice1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_weapon4Dice2" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_weapon4Dice3" placeholder="0" value="0">
		</div>

	<div>
              
<button type="action" class="NDice" id="autoroll_weapon4_raw" name="act_rollCombat"></button>

	</div>
	<!-- dice roll end -->

	</div></div>
	<!-- header end -->

	<div class="weaponRankBox weapon"> 

	<select name="attr_weapon4Type" class="weapon_type">
 	<option value="" selected disabled hidden>[Type]</option>
         <option value="Slash">Slash</option>
         <option value="Pierce">Pierce</option>
	 <option value="Blunt">Blunt</option>
         </select>


	<select name="attr_weapon4Range" class="weapon_distance">
	<option value="" selected disabled hidden>[Range]</option>
         <option value="Melee">Melee</option>
         <option value="Ranged">Ranged</option>
         </select>
	</div>

	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
	<div class="descHead"></div>
       <textarea spellcheck="false"  name="attr_weapon4Description" class="weaponDescriptionInput" placeholder="Weapon description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_weapon4Effect" class="weaponEffectInput" placeholder="Weapon effects."></textarea>
        </div>

	</div>
	<!-- desc end -->	

	</div>
<!-- Weapon 4 Block END -->

</div>
<!-- !!EXTRA!! Weapons end -->

<!-- Augmentation block -->
	<div class="augmentBlock">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" name="act_shareAugment" title="Share info"></button>

	<!-- Augment header -->
	<div class="sectionHeader augment rowContainer" id="augment-name">
	<input type="text" class="outfitRank" name="attr_augmentRank" placeholder="0" title="Rank">
	<input type="text" class="transpInput contentName" name="attr_augmentName" placeholder="Augmentation name">

        <select name="attr_augmentType" class="darkInput contentName topRight">
	<option value="None">---</option>
	<option value="Tattoos">Tattoos</option>
	<option value="Serums/Drugs">Serums/Drugs</option>
	<option value="Surgery">Surgery</option>
	<option value="Prosthesis">Prosthesis</option>
	<option value="Full Prosthesis">Full Prosthesis</option>
	<option value="Other">Other</option>
        </select>

	</div>

	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_augmentDescription" class="augmentDescriptionInput" placeholder="Augment description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_augmentEffect" class="weaponEffectInput" placeholder="Augment effects"></textarea>
        </div>

	</div>
	<!-- desc end -->	

	</div>

<!-- Augmentation block - END -->

                </div>
<!-- Weapon section END -->

<!-- Outfit / Other equipment section -->
<div class="rowContainer" style="max-width: 600px; flex-wrap: wrap;">
<div class="weaponContainer">

<!-- Outfit block -->
<div class="contentContainer">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
<button type="action" class="darkInput shareButton" name="act_shareOutfit" title="Share info"></button>


	<!-- Outfit header -->
	<div class="sectionHeader outfit" id="outfit-name">

	<input type="text" class="outfitRank" name="attr_outfitRank" placeholder="0" title="Rank">
		<input type="text" class="transpInput contentName" name="attr_outfitName" placeholder="Outfit name" value="Outfit">

	<!-- Weapon dice roll block -->
	<div class="rowContainer combatDice">
	
	<div class="evadeIcon typeIcon defend">
	</div>


		<div class="dicerollBlock">
		<input type="text" class="diceNum" name="attr_defDice1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_defDice2" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_defDice3" value="0">
		</div>

	<div>
              
<button type="action" class="NDice" id="autoroll_def_raw" name="act_rollCombat"></button>

	</div>
	<!-- dice roll end -->

	</div></div>
	<!-- header end -->

	<div class="weaponRangeBox outfit"> 

	<div class="rowContainer combatDice evadeAdjust">

	<div class="evadeIcon typeIcon evade">
	</div>


		<div class="dicerollBlock">
		<input type="text" class="diceNum" name="attr_evdDice1" value="1">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_evdDice2" value="6">
		<div class="plainText">+</div>
		<input type="text" name="attr_evdDice3" value="0">
		</div>

	<div>
              
<button type="action" class="NDice" id="autoroll_evd_raw" name="act_rollCombat"></button>

	</div>

	</div>
	</div>

	<!-- Description/Effect section -->

<div class="rowContainer">

<div class="rowContainer">
	<textarea spellcheck="false"  name="attr_outfitEffect" class="weaponEffectInput" placeholder="Outfit effects."></textarea>

	</div>

<!-- Outfit resistance table -->
	<div class="rowContainer resistanceChart" style="margin-top: 25px">
		<div class="rowContainer centerFlex">

<div id="outfit_res_slash">
		<div class="resIconLeft">
		<div class="resistIcon slashNormal"></div>
		</div>

	</div>

                            <select name="attr_outfitImmune1" id="outfitImmune1" class="outfitResistVal dmg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

                            <select name="attr_outfitImmune2" id="outfitImmune2" class="outfitResistVal stg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

<div id="outfit_res_slashSTG">
		<div class="resIconRight">
		<div class="resistIcon slashNormalSTG"></div>
		</div>

	</div>


		</div>

		<div class="rowContainer centerFlex">


<div id="outfit_res_pierce">
		<div class="resIconLeft">
		<div class="resistIcon pierceNormal"></div>
		</div>


	</div>


                            <select name="attr_outfitImmune3" id="outfitImmune3" class="outfitResistVal dmg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

                            <select name="attr_outfitImmune4" id="outfitImmune4" class="outfitResistVal stg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>


<div id="outfit_res_pierceSTG">
		<div class="resIconRight">
		<div class="resistIcon pierceNormalSTG"></div>
		</div>


	</div>



		</div>

		<div class="rowContainer centerFlex">


<div id="outfit_res_blunt">
		<div class="resIconLeft">
		<div class="resistIcon bluntNormal"></div>
		</div>


	</div>


                            <select name="attr_outfitImmune5" id="outfitImmune5" class="outfitResistVal dmg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

                            <select name="attr_outfitImmune6" id="outfitImmune6" class="outfitResistVal stg">
				<option value="" selected disabled hidden>---</option>
                                <option value="2">[x2]　　　Fatal</option>
                                <option value="1.5">[x1.5]　　Weak</option>
                                <option value="1">[x1]　　　Normal</option>
                                <option value="0.5">[x0.5]　　Endured</option>
                                <option value="0.25">[x0.25]　　Ineffective</option>
                                <option value="0">[x0]　　　Immune</option>
                            </select>

<div id="outfit_res_bluntSTG">
		<div class="resIconRight">
		<div class="resistIcon bluntNormalSTG"></div>
		</div>

	</div>


		</div>
</div>
<!-- Resistance chart end -->
</div>

<div class="outfitDescription"><textarea spellcheck="false"  name="attr_outfitDescription" class="outfitDescriptionInput" placeholder="Outfit description."></textarea></div> 

</div>





	<!-- desc end -->	

	</div>


<!-- Item section -->
<div class="weaponContainer">

	<!-- Tool1 block -->
	<div class="contentContainer half" style="margin-right: 7px;">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_tool1" name="act_shareTool" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader tool rowContainer">
	<input type="text" class="outfitRank" name="attr_tool1Rank" placeholder="0" title="Rank">
	<input type="text" class="headerName transpInput" name="attr_tool1Name" placeholder="Tool name">

	<input type="checkbox" id="attr_tool1Portable" name="attr_tool1Portable" value="Portable"><label for="attr_tool1Portable" class="portableIcon" title="Portable"></label> 

	<input type="checkbox" id="attr_tool1Reusable" name="attr_tool1Reusable" value="Reusable"><label for="attr_tool1Reusable" class="reusableIcon" title="Reusable"></label>

	</div>
	<!-- header end -->
   
	<div>
     <input type="checkbox" class="hide-toggle" name="attr_tool1Reusable" value="Reusable" hidden="true">
     <div class="weaponRangeBox hide-item tool"> 
       <input type="number" value="3" max="3" min="0" class="darkInput ailmentNum" name="attr_tool1Uses" title="Number of uses">
        </div>
	</div>



	<!-- Description/Effect section -->

        <div class="toolDescription">
       <textarea spellcheck="false"  name="attr_tool1Description" class="toolDescriptionInput" placeholder="Tool description."></textarea>
        </div>

        <div class="itemEffect">
	<textarea spellcheck="false"  name="attr_tool1Effect" class="weaponEffectInput" placeholder="Item effects."></textarea>
        </div>

	<!-- desc end -->	

	</div>
	<!-- Tool1 Block - end -->


	<!-- Tool2 block -->
	<div class="contentContainer half">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_tool2" name="act_shareTool" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader tool rowContainer">
	<input type="text" class="outfitRank" name="attr_tool2Rank" placeholder="0" title="Rank">
	<input type="text" class="headerName transpInput" name="attr_tool2Name" placeholder="Tool name">

	<input type="checkbox" id="attr_tool2Portable" name="attr_tool2Portable" value="Portable"><label for="attr_tool2Portable" class="portableIcon" title="Portable"></label> 

	<input type="checkbox" id="attr_tool2Reusable" name="attr_tool2Reusable" value="Reusable"><label for="attr_tool2Reusable" class="reusableIcon" title="Reusable"></label>

	</div>
	<!-- header end -->

	<div>
    <input type="checkbox" class="hide-toggle" name="attr_tool2Reusable" value="Reusable" hidden="true">
     <div class="weaponRangeBox hide-item tool"> 
       <input type="number" value="3" max="3" min="0" class="darkInput ailmentNum" name="attr_tool2Uses" title="Number of uses">
        </div>
	</div>

	<!-- Description/Effect section -->
        <div class="toolDescription">
       <textarea spellcheck="false"  name="attr_tool2Description" class="toolDescriptionInput" placeholder="Tool description."></textarea>
        </div>

        <div class="itemEffect">
	<textarea spellcheck="false"  name="attr_tool2Effect" class="weaponEffectInput" placeholder="Item effects."></textarea>
        </div>

	<!-- desc end -->	

	</div>
	<!-- Tool2 Block - end -->

</div>
<!-- Tool Block END -->

<!-- !!EXTRA!! Tool section -->
<input type="checkbox" class="hide-toggle" name="attr_settingExtraEquip" value="true">
<div class="hide-item">

<div class="weaponContainer">

	<!-- Tool3 block -->
	<div class="contentContainer half" style="margin-right: 7px;">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_tool3" name="act_shareTool" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader tool rowContainer">
	<input type="text" class="outfitRank" name="attr_tool3Rank" placeholder="0" title="Rank">
	<input type="text" class="headerName transpInput" name="attr_tool3Name" placeholder="Tool name">

	<input type="checkbox" id="attr_tool3Portable" name="attr_tool3Portable" value="Portable"><label for="attr_tool3Portable" class="portableIcon" title="Portable"></label> 

	<input type="checkbox" id="attr_tool3Reusable" name="attr_tool3Reusable" value="Reusable"><label for="attr_tool3Reusable" class="reusableIcon" title="Reusable"></label>

	</div>
	<!-- header end -->
   
	<div>
     <input type="checkbox" class="hide-toggle" name="attr_tool3Reusable" value="Reusable" hidden="true">
     <div class="weaponRangeBox hide-item tool"> 
       <input type="number" value="3" max="3" min="0" class="darkInput ailmentNum" name="attr_tool3Uses" title="Number of uses">
        </div>
	</div>



	<!-- Description/Effect section -->

        <div class="toolDescription">
       <textarea spellcheck="false"  name="attr_tool3Description" class="toolDescriptionInput" placeholder="Tool description."></textarea>
        </div>

        <div class="itemEffect">
	<textarea spellcheck="false"  name="attr_tool3Effect" class="weaponEffectInput" placeholder="Item effects."></textarea>
        </div>

	<!-- desc end -->	

	</div>
	<!-- Tool3 Block - end -->


	<!-- Tool4 block -->
	<div class="contentContainer half">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_tool4" name="act_shareTool" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader tool rowContainer">
	<input type="text" class="outfitRank" name="attr_tool4Rank" placeholder="0" title="Rank">
	<input type="text" class="headerName transpInput" name="attr_tool4Name" placeholder="Tool name">

	<input type="checkbox" id="attr_tool4Portable" name="attr_tool4Portable" value="Portable"><label for="attr_tool4Portable" class="portableIcon" title="Portable"></label> 

	<input type="checkbox" id="attr_tool4Reusable" name="attr_tool4Reusable" value="Reusable"><label for="attr_tool4Reusable" class="reusableIcon" title="Reusable"></label>

	</div>
	<!-- header end -->

	<div>
    <input type="checkbox" class="hide-toggle" name="attr_tool4Reusable" value="Reusable" hidden="true">
     <div class="weaponRangeBox hide-item tool"> 
       <input type="number" value="3" max="3" min="0" class="darkInput ailmentNum" name="attr_tool4Uses" title="Number of uses">
        </div>
	</div>

	<!-- Description/Effect section -->
        <div class="toolDescription">
       <textarea spellcheck="false"  name="attr_tool4Description" class="toolDescriptionInput" placeholder="Tool description."></textarea>
        </div>

        <div class="itemEffect">
	<textarea spellcheck="false"  name="attr_tool4Effect" class="weaponEffectInput" placeholder="Item effects."></textarea>
        </div>

	<!-- desc end -->	

	</div>
	<!-- Tool4 Block - end -->
</div>
</div>
<!-- !!EXTRA!! Item Block END -->


</div>

</div>

<!-- ??? -->

<!-- Special Items section -->
<input type="checkbox" class="hide-toggle-rev" name="attr_settingHideSpecial" value="true">
<div class="hide-item-rev">
<div class="contentBlock">

	<!-- Special Item1 block -->
	<div class="specialBlock">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
<button type="action" class="darkInput shareButton" id="share_special1" name="act_shareSpecial" title="Share info"></button>

	<!-- Header -->
	<div class="sectionHeader special" id="special1Name">
		
	<input type="text" type="text" class="outfitRank" name="attr_special1Rank" placeholder="0" value="0" title="Rank">

	<input type="text" class="transpInput contentName" name="attr_special1Name" placeholder="Special item name">

		<select name="attr_special1Risk" class="darkInput contentName topRight" title="Risk Level">
			<option value=" ">---</option>
			<option value="0">Canard</option>
			<option value="1">Urban Myth</option>
			<option value="2">Urban Legend</option>
			<option value="3">Urban Plague</option>
			<option value="4">Urban Nightmare</option>
			<option value="5">Star of the City</option>
			<option value="6">Impuritas Civitatis</option>
		</select>

	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

	<div class="special"> 

	<div class="specialColumn">
	Effect Range
 		<select name="attr_special1Range" class="darkInput" id="special1Range" style="text-align: center;">
                          <option value=" ">---</option>
                          <option value="0">One or two people</option>
                          <option value="1">Street</option>
                          <option value="2">Neighborhood</option>
                          <option value="3">Residence Area</option>
                          <option value="4">Nest</option>
                          <option value="5">Multiple Nests</option>
                          <option value="6">City</option>
               	</select>
	</div>

	<div class="specialColumn">
	Duration
		<select name="attr_special1Duration" class="darkInput" id="special1_duration" style="text-align: center;">
			<option value=" ">---</option>
			<option value="0">A moment</option>
			<option value="1">Seconds</option>
			<option value="2">Minutes</option>
			<option value="3">Hours</option>
			<option value="4">Days</option>
			<option value="5">Weeks</option>
			<option value="6">Months</option>
              	</select>
	</div>

	</div>

       <textarea spellcheck="false"  name="attr_special1Description" class="specialDescriptionInput" placeholder="Special item description/effects."></textarea>

	</div>
	<!-- desc end -->	

	</div>
<!-- Special Item 1 Block END -->


<!-- Special Item2 block -->
	<div class="specialBlock">

<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
<button type="action" class="darkInput shareButton" id="share_special2" name="act_shareSpecial" title="Share info"></button>

	<!-- Header -->
	<div class="sectionHeader special" id="special2-name">
		
	<input type="text" type="text" class="outfitRank" name="attr_special2Rank" placeholder="0" value="0" title="Rank">

	<input type="text" class="transpInput contentName" name="attr_special2Name" placeholder="Special item name">

	<select name="attr_special2Risk" class="darkInput contentName topRight" title="Risk Level">
			<option value="none">---</option>
			<option value="0">Canard</option>
			<option value="1">Urban Myth</option>
			<option value="2">Urban Legend</option>
			<option value="3">Urban Plague</option>
			<option value="4">Urban Nightmare</option>
			<option value="5">Star of the City</option>
			<option value="6">Impuritas Civitatis</option>
		</select>

	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

	<div class="special"> 

	<div class="specialColumn">
	Effect Range
 		<select name="attr_special2Range" class="darkInput" id="special2Range" style="text-align: center;">
                          <option value="none">---</option>
                          <option value="0">One or two people</option>
                          <option value="1">Street</option>
                          <option value="2">Neighborhood</option>
                          <option value="3">Residence Area</option>
                          <option value="4">Nest</option>
                          <option value="5">Multiple Nests</option>
                          <option value="6">City</option>
               	</select>
	</div>

	<div class="specialColumn">
	Duration
		<select name="attr_special2Duration" class="darkInput" id="special2_duration" style="text-align: center;">
			<option value="none">---</option>
			<option value="0">A moment</option>
			<option value="1">Seconds</option>
			<option value="2">Minutes</option>
			<option value="3">Hours</option>
			<option value="4">Days</option>
			<option value="5">Weeks</option>
			<option value="6">Months</option>
              	</select>
	</div>

	</div>

       <textarea spellcheck="false"  name="attr_special2Description" class="specialDescriptionInput" placeholder="Special item description/effects."></textarea>

	</div>
	<!-- desc end -->	

	</div>
<!-- Special Item2 Block END -->

</div>

</div>
</div>
</div>
</div>
<!-- Equipment END -->

<!-- Skill section -->

	<div class="sheet-body sheet-skills darkBG">
        <div class="contentBlock" id="skillSection">

<!-- EGO Skills Column -->
            <div class="weaponContainer">

	<!-- EGO Skill1 block -->
	<div class="skillBlock">

	<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_egoSkill1" name="act_shareSkill" title="Share info"></button>


	<!-- header -->
	<div class="sectionHeader skillE rowContainer">

	<input type="text" class="transpInput skillName" name="attr_egoSkill1Name" placeholder="Mystery skill name">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill1Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill1Type"><div class="type-image skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill1Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill1Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill1Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill1Type"><div class="type-image skillIcon skillMass"></div>
		</div>

<input class="skillRank" type="text" name="attr_egoSkill1Rank" value="0" placeholder="0" title="Rank">

	</div>

	<div class="rowContainer centerFlex skillE"> 

				<select name="attr_egoSkill1Type" class="whiteInput skillType" id="EGOskill1-type">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_egoSkill1Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoSkill1Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoSkill1Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_egoSkill1Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_egoSkill1Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_egoSkill1Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- EGO Skill1 block - END -->

<!-- EGO Skill2 block -->
	<div class="skillBlock">

	<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_egoSkill2" name="act_shareSkill" title="Share info"></button>


	<!-- header -->
	<div class="sectionHeader skillE rowContainer">

	<input type="text" class="transpInput skillName" name="attr_egoSkill2Name" placeholder="Mystery skill name">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill2Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill2Type"><div class="type-image skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill2Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill2Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill2Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill2Type"><div class="type-image skillIcon skillMass"></div>
		</div>

<input class="skillRank" type="text" name="attr_egoSkill2Rank" value="0" placeholder="0" title="Rank">

	</div>

	<div class="rowContainer centerFlex skillE"> 

				<select name="attr_egoSkill2Type" class="whiteInput skillType" id="egoSkill2-type">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_egoSkill2Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoSkill2Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoSkill2Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_egoSkill2Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_egoSkill2Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_egoSkill2Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- EGO Skill2 block - END -->

<!-- EGO Skill3 block -->
	<div class="skillBlock">

	<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_egoSkill3" name="act_shareSkill" title="Share info"></button>


	<!-- header -->
	<div class="sectionHeader skillE rowContainer">

	<input type="text" class="transpInput skillName" name="attr_egoSkill3Name" placeholder="Mystery skill name">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill3Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill3Type"><div class="type-image skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill3Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill3Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill3Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill3Type"><div class="type-image skillIcon skillMass"></div>
		</div>

<input class="skillRank" type="text" name="attr_egoSkill3Rank" value="0" placeholder="0" title="Rank">

	</div>

	<div class="rowContainer centerFlex skillE"> 

				<select name="attr_egoSkill3Type" class="whiteInput skillType" id="egoSkill3-type">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_egoSkill3Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoSkill3Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoSkill3Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_egoSkill3Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_egoSkill3Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_egoSkill3Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- EGO Skill3 block - END -->

<!-- EGO Skill4 block -->
	<div class="skillBlock">

	<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_egoSkill4" name="act_shareSkill" title="Share info"></button>


	<!-- header -->
	<div class="sectionHeader skillE rowContainer">

	<input type="text" class="transpInput skillName" name="attr_egoSkill4Name" placeholder="Mystery skill name">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill4Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill4Type"><div class="type-image skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill4Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill4Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill4Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill4Type"><div class="type-image skillIcon skillMass"></div>
		</div>

<input class="skillRank" type="text" name="attr_egoSkill4Rank" value="0" placeholder="0" title="Rank">

	</div>

	<div class="rowContainer centerFlex skillE"> 

				<select name="attr_egoSkill4Type" class="whiteInput skillType" id="egoSkill4-type">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_egoSkill4Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoSkill4Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoSkill4Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_egoSkill4Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_egoSkill4Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_egoSkill4Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- EGO Skill4 block - END -->


<!-- !!EXTRA!! EGO skills -->
<input type="checkbox" class="hide-toggle" name="attr_settingExtraSkills" value="true">
<div class="hide-item" style="width: 100%;">

<!-- EGO Skill5 block -->
	<div class="skillBlock">

	<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_egoSkill5" name="act_shareSkill" title="Share info"></button>


	<!-- header -->
	<div class="sectionHeader skillE rowContainer">

	<input type="text" class="transpInput skillName" name="attr_egoSkill5Name" placeholder="Mystery skill name">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill5Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill5Type"><div class="type-image skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill5Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill5Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill5Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill5Type"><div class="type-image skillIcon skillMass"></div>
		</div>

<input class="skillRank" type="text" name="attr_egoSkill5Rank" value="0" placeholder="0" title="Rank">

	</div>

	<div class="rowContainer centerFlex skillE"> 

				<select name="attr_egoSkill5Type" class="whiteInput skillType" id="egoSkill5-type">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_egoSkill5Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoSkill5Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoSkill5Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_egoSkill5Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_egoSkill5Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_egoSkill5Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- EGO Skill5 block - END -->

<!-- EGO Skill6 block -->
	<div class="skillBlock">

	<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_egoSkill6" name="act_shareSkill" title="Share info"></button>


	<!-- header -->
	<div class="sectionHeader skillE rowContainer">

	<input type="text" class="transpInput skillName" name="attr_egoSkill6Name" placeholder="Mystery skill name">

<div class="iconHolder egoSkills">
		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_egoSkill6Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_egoSkill6Type"><div class="type-image skillIcon skillAtt"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_egoSkill6Type"><div class="type-image skillIcon skillDef"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_egoSkill6Type"><div class="type-image skillIcon skillEvd"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_egoSkill6Type"><div class="type-image skillIcon skillAct"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_egoSkill6Type"><div class="type-image skillIcon skillMass"></div>
		</div>

<input class="skillRank" type="text" name="attr_egoSkill6Rank" value="0" placeholder="0" title="Rank">

	</div>

	<div class="rowContainer centerFlex skillE"> 

				<select name="attr_egoSkill6Type" class="whiteInput skillType" id="egoSkill6-type">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_egoSkill6Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_egoSkill6Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_egoSkill6Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_egoSkill6Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_egoSkill6Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_egoSkill6Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- EGO Skill6 block - END -->


</div>


<!-- !!EXTRA!! EGO skills - END -->

</div> 
<!-- EGO Skills Column END -->


<!-- Regular Skills column -->
            <div class="weaponContainer">

	<!-- Skill1 block -->
	<div class="skillBlock">
<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_skill1" name="act_shareSkill" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader skillN rowContainer" style="position: relative;">

	<input type="text" class="transpInput skillName" name="attr_skill1Name" placeholder="Skill name">


<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill1Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill1Type"><div class="type-image skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill1Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill1Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill1Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill1Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

<input class="skillRank" type="text" name="attr_skill1Rank" value="0" placeholder="0" title="Rank">


	</div>

	<div class="rowContainer centerFlex skillN"> 

				<select name="attr_skill1Type" class="whiteInput skillType">
				    <option value="0" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_skill1Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_skill1Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_skill1Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_skill1Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_skill1Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_skill1Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- Skill1 block - END -->

	<!-- Skill2 block -->
	<div class="skillBlock">
<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_skill2" name="act_shareSkill" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader skillN rowContainer" style="position: relative;">

	<input type="text" class="transpInput skillName" name="attr_skill2Name" placeholder="Skill name">


<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill2Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill2Type"><div class="type-image skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill2Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill2Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill2Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill2Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

<input class="skillRank" type="text" name="attr_skill2Rank" value="0" placeholder="0" title="Rank">


	</div>

	<div class="rowContainer centerFlex skillN"> 

				<select name="attr_skill2Type" class="whiteInput skillType">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_skill2Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_skill2Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_skill2Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_skill2Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_skill2Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_skill2Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- Skill2 block - END -->

<!-- Skill3 block -->
	<div class="skillBlock">
<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_skill3" name="act_shareSkill" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader skillN rowContainer" style="position: relative;">

	<input type="text" class="transpInput skillName" name="attr_skill3Name" placeholder="Skill name">


<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill3Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill3Type"><div class="type-image skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill3Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill3Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill3Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill3Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

<input class="skillRank" type="text" name="attr_skill3Rank" value="0" placeholder="0" title="Rank">


	</div>

	<div class="rowContainer centerFlex skillN"> 

				<select name="attr_skill3Type" class="whiteInput skillType">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_skill3Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_skill3Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_skill3Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_skill3Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_skill3Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_skill3Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- Skill3 block - END -->

<!-- Skill4 block -->
	<div class="skillBlock">
<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_skill4" name="act_shareSkill" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader skillN rowContainer" style="position: relative;">

	<input type="text" class="transpInput skillName" name="attr_skill4Name" placeholder="Skill name">


<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill4Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill4Type"><div class="type-image skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill4Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill4Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill4Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill4Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

<input class="skillRank" type="text" name="attr_skill4Rank" value="0" placeholder="0" title="Rank">


	</div>

	<div class="rowContainer centerFlex skillN"> 

				<select name="attr_skill4Type" class="whiteInput skillType">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_skill4Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_skill4Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_skill4Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_skill4Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_skill4Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_skill4Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- Skill4 block - END -->


<!-- !!EXTRA!! Regular Skills -->
<input type="checkbox" class="hide-toggle" name="attr_settingExtraSkills" value="true">
<div class="hide-item" style="width: 100%;">

<!-- Skill5 block -->
	<div class="skillBlock">
<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_skill5" name="act_shareSkill" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader skillN rowContainer" style="position: relative;">

	<input type="text" class="transpInput skillName" name="attr_skill5Name" placeholder="Skill name">


<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill5Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill5Type"><div class="type-image skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill5Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill5Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill5Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill5Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

<input class="skillRank" type="text" name="attr_skill5Rank" value="0" placeholder="0" title="Rank">


	</div>

	<div class="rowContainer centerFlex skillN"> 

				<select name="attr_skill5Type" class="whiteInput skillType">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_skill5Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_skill5Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_skill5Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_skill5Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_skill5Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_skill5Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- Skill5 block - END -->

<!-- Skill6 block -->
	<div class="skillBlock">
<input type="checkbox" class="hide-toggle" name="attr_settingHideShare" value="true">
	<button type="action" class="darkInput shareButton" id="share_skill6" name="act_shareSkill" title="Share info"></button>

	<!-- header -->
	<div class="sectionHeader skillN rowContainer" style="position: relative;">

	<input type="text" class="transpInput skillName" name="attr_skill6Name" placeholder="Skill name">


<div class="iconHolder">

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="" name="attr_skill6Type"><div class="type-image skillIcon skillNone"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Attack" name="attr_skill6Type"><div class="type-image skillIcon skillAtt weapon"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Defend" name="attr_skill6Type"><div class="type-image skillIcon skillDef outfit"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Evade" name="attr_skill6Type"><div class="type-image skillIcon skillEvd STGR"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Action" name="attr_skill6Type"><div class="type-image skillIcon skillAct tool"></div>
		</div>

		<div class="attackIcon">
		<input type="checkbox" class="expand-toggle" value="Mass" name="attr_skill6Type"><div class="type-image skillIcon skillMass weapon"></div>
		</div>

<input class="skillRank" type="text" name="attr_skill6Rank" value="0" placeholder="0" title="Rank">


	</div>

	<div class="rowContainer centerFlex skillN"> 

				<select name="attr_skill6Type" class="whiteInput skillType">
				    <option value="" selected>---</option>
                                    <option value="Attack">Attack</option>
                                    <option value="Defend">Defend</option>
                                    <option value="Evade">Evade</option>
                                    <option value="Action">Action</option>
                                    <option value="Mass">Mass</option>
                                </select>

		<div class="dicerollBlock whiteInput" title="Dice modifiers applied when using skill.">
		<input type="text" class="diceNum" name="attr_skill6Dice1" value="0">
		<div class="plainText">D</div>
		<input type="text" class="diceVal" name="attr_skill6Dice2" value="0">
		<div class="plainText">+</div>
		<input type="text" name="attr_skill6Dice3" placeholder="0" value="0">
		</div>
	

	<div class="lightCost">
				<input class="outfitRank" type="text" name="attr_skill6Light" value="0" title="Light Cost">
	</div>

	</div>


	</div>
	<!-- header end -->


	<!-- Description/Effect section -->
	<div class="rowContainer weaponInfo">

        <div class="weaponDescription">
       <textarea spellcheck="false"  name="attr_skill6Description" class="augmentDescriptionInput" placeholder="Skill description."></textarea>
        </div>

        <div class="weaponEffect">
	<textarea spellcheck="false"  name="attr_skill6Effect" class="weaponEffectInput" placeholder="Skill effects"></textarea>
        </div>

	</div>
	<!-- desc end -->
	</div>
<!-- Skill6 block - END -->


</div>


<!-- !!EXTRA!! Regular Skills - END -->


</div> 
<!-- Regular Skills - END -->






</div> <!-- outside of green line -->
  
              </div></div></div></div>
<!-- Skill section END -->


	<div class="sheet-body sheet-details darkBG">
	<div class="contentContainer" id="characterDetails">

<div class="rowContainer">
<div class="half" style="position: relative;">

	<div class="CharImage"><img name="attr_character_avatar">
	<div class="CharImageText">Photo</div></div>

	<div class="profileData">
	<div class="textSection">Name</div>
	<input class="CharName" type="text" name="attr_character_name"></div>

	<div class="profileData">
	<div class="textSection">Occupation</div>
	<input class="CharName" type="text" name="attr_character_job"></div>
                        
	<div class="profileData">
	<div class="textSection">Age</div>
	<input class="CharName" type="text" name="attr_age"></div>

	<div class="profileData">
	<div class="textSection">Height</div>
	<input class="CharName" type="text" name="attr_height"></div>

	<div class="profileData">
	<div class="textSection">Birthplace</div>
	<input class="CharName" type="text" name="attr_character_origin"></div>

	<div class="profileData">
	<div class="textSection">Residence</div>
	<input class="CharName" type="text" name="attr_character_residence"></div>

	<div class="profileData">
	<div class="textSection">Assets</div>
	<input class="CharResidence" type="text" name="attr_character_assets" placeholder="Money, items, other assets."></div>

	<div class="profileData">
	<div class="textSection">Summary</div>
	<textarea spellcheck="false"  name="attr_character_summary"  class="CharTopNotes" placeholder="General character summary."></textarea></div>

	<div class="profileData">
	<div class="textSection">Notable History</div>
	<textarea spellcheck="false"  name="attr_character_history" class="CharTopNotes" placeholder="Recent or past history."></textarea>
	</div>

	<div class="profileData">
	<div class="textSection">Relations</div>
	<textarea spellcheck="false"  name="attr_character_relations" class="CharTopNotes" placeholder="Relations with others."></textarea>
	</div>

	<div class="profileData">
	<div class="textSection">Notes</div>
	<textarea spellcheck="false"  name="attr_character_notes" class="CharTopNotes" placeholder="Any other notes."></textarea>
	</div>

</div>


<div class="columnAlign half centerFlex" id="characterExtra">

	<div class="profileData">
	<div class="textSection" style="width: 50px !important;">URL</div>
	<input type="text" class="CharResidence" name="attr_character_url" placeholder="External sheet/reference"></div>

<div class="textSection">Description</div>
<div class="bigbox">
<textarea spellcheck="false" name="attr_character_desc" placeholder="Physical description."></textarea></div>


<div class="textSection">Personality</div>
<div class="bigbox">
<textarea spellcheck="false" name="attr_character_personality" placeholder="Personality description."></textarea></div>


<div class="textSection">Background</div>
<div class="bigbox">
<textarea spellcheck="false" name="attr_character_background" placeholder="Background description."></textarea></div>


</div>


</div>
	</div>

<!-- Details END -->

</div>



<br><br><br><br><br><br><br><br><br>


<rolltemplate class="sheet-rolltemplate-message">
    <div class="sheet-template-wrapper" style="background-color: #333; border-radius: 5px; color: #fff; padding: 5px;">

       {{icon}} {{#name}}<b>{{name}}</b>{{/name}} {{message}}
    </div>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-shareB">
    	<div class="sheet-template-wrapper" style="background-color: #333; border-radius: 5px;  overflow: hidden; border: 1px #555 solid;">
    		<div class="sheet-template-wrapper" style="color: #fff; position: relative;">

		{{header}}

		{{body}}

		</div>
	</div>

</rolltemplate>


<rolltemplate class="sheet-rolltemplate-share">
    <div class="sheet-template-wrapper" style="background-color: #333; border-radius: 5px;  overflow: hidden; border: 1px #555 solid;">
    <div class="sheet-template-wrapper" style="color: #fff; position: relative;">


	{{headtag}}
      <div style="float: left">{{#icon}} {{icon}} {{/icon}}</div> <div style="width: 55%; overflow: hidden; height: 20px; padding-top: 5px; float: left;"><b>{{name}}</b></div> 
	
	{{#rank}}<div style="position: absolute; top: 5px; right: 5px;"> <b>Rank:</b> {{rank}} </div>{{/rank}}
	</div>

	<div style="text-align: center; padding-top: 3px; padding-bottom: 3px; border-bottom: 1px #555 solid;">
	{{#dice}} <b>Mod:</b> {{dice}} {{/dice}} 
	{{#attdice}} <b>Att:</b> {{attdice}} | {{/attdice}} 
	{{#defdice}} <b>Def:</b> {{defdice}} | {{/defdice}} 
	{{#evddice}} <b>Evd:</b> {{evddice}} {{/evddice}} 
	{{#type}} <b>Type:</b> {{type}} {{/type}} 
	{{#typeatt}} {{typeatt}} {{/typeatt}}
	{{#range}} | {{range}} {{/range}} 
	{{#custom}} {{custom}} {{/custom}}
	</div>

	{{#effect}}
	<div style="width: 100%; height: 70px; overflow: hidden;">

		<div style="height: 70px; width: 49%; border-right: 1px #555 solid; overflow: auto; float: left;">
		{{effect}}
		</div>

		{{#res}}
		<div style="height: 70px; width: 49%; overflow: auto; float: left;">{{res}}</div>
		{{/res}}
	</div>
	{{/effect}}

		{{#description}}
		<div style="height: 60px; width: 98%; border-top: 1px #555 solid; overflow: auto; float: left; padding: 3px;">
		{{description}}
		</div>
		{{/description}}

	</div>
</div>

</rolltemplate>

<rolltemplate class="sheet-rolltemplate-baseRoll">
    <div class="sheet-template-wrapper" style="background-color: #454545; border-radius: 5px; color: #eee; height: auto; padding: 5px; overflow: hidden;">
	<div style="position: relative;">
	{{#infodump}} {{infodump}} {{/infodump}}
	{{#roll1}}<div style="position: absolute; top: 2px; right: 0px;"><h4 style="background-color: #000; height: 26px; width: 35px; overflow: hidden; text-align: center; padding-top: 6px;">{{roll1}}</h4></div>{{/roll1}}
	</div>

    </div>
</rolltemplate>

<script type="text/worker">


/* Auto: Recalculate derived stats */
on("change:instinct change:wisdom change:justice change:charm change:insight change:temperance", function() {
	getAttrs(["instinct", "wisdom", "justice", "charm", "insight", "temperance"], function(values) {
	let instinctVal = parseInt(values.instinct);
	let wisdomVal = parseInt(values.wisdom);
	let justiceVal = parseInt(values.justice);
	let charmVal = parseInt(values.charm);
	let insightVal = parseInt(values.insight);
	let temperanceVal = parseInt(values.temperance);

	let ranknew = parseInt((instinctVal+wisdomVal+justiceVal+charmVal+insightVal+temperanceVal)/(6));
	let rnum = ranknew;

	if(ranknew > 5){
	ranknew = "EX";
	rnum = "6";
	} 

	let hpnew = parseInt(30+(instinctVal*6)+(rnum*6));
	let stagresnew = parseInt(20+(charmVal*4)+(rnum*4));
	let spnew = parseInt(15+(wisdomVal*3));
	let lightnew = parseInt(rnum+3);

	setAttrs({"charRankBase":ranknew, "charRankNum":rnum, "HP_max":hpnew, "StagRes_max":stagresnew, "SP_max":spnew, "Light_max":lightnew});

	});
});

/* Auto: Detect Stagger */
on("change:StagRes", function() {

	getAttrs(["StagRes", "StaggerState", "SP"], function(values) {
	let currentstag = parseInt(values.StagRes);
	let currentstate = values.StaggerState;

		if(currentstag <= 0 && currentstate == "0"){
		let sanity = parseInt(values.SP) - 5;

		setAttrs({"StaggerState":"Staggered", "SP":sanity});

		if(sanity <= 0){
		setAttrs({"PanicState":"Panic"});
		}

 
		} /* Value check end */

	});
});

/* Auto: Recalc Advantages */
on("change:Fortune change:Paralysis", function() {
	getAttrs(["Fortune", "Paralysis"], function(values) {
	let currentadv = parseInt(values.Fortune);
	let currentdisadv = parseInt(values.Paralysis);
	
	let newadv = currentadv - currentdisadv;
	let newdisadv = currentdisadv - currentadv;
	let newstate = "0";

	if(newadv <= 0){
	newadv = "0";
	}
	
	if(newdisadv <= 0){
	newdisadv = "0";
	}

	if(newadv > newdisadv){
	newstate = "Advantage";
	}
	else if(newdisadv > newadv){
	newstate = "Disadvantage";
	}


	setAttrs({"advBase":newadv, "disadvBase":newdisadv, "advState":newstate});

	});
});


/* Auto: Detect Panic */
on("change:SP", function() {
	getAttrs(["settingAutoDetect", "settingMuteMessage", "PanicState", "SP"], function(values) {
	let detect = values.settingAutoDetect;
	let mutemessage = values.settingMuteMessage;
	let panicstate = values.PanicState;
	let currentsan = parseInt(values.SP);

	/* AutoDetect check */
	if(detect != "0"){
		currentsan = parseInt(values.SP);

		if(currentsan <= 0 && panicstate == "0"){
			setAttrs({"PanicState":"Panic"});
 
		}
		else if(currentsan > 0 && panicstate != "0"){
		setAttrs({"PanicState":"0"});


		} /* Value check end */

	} /* AutoDetect check end */

		});
});

/* Auto: HP related updates (Detect Defeat, Detect EGO activation) */
on("change:HP", function() {

	getAttrs(["settingAutoDetect", "settingMuteMessage", "DefeatState", "egoActiveState", "HP", "HP_max", "egoCondition"], function(values) {
	let detect = values.settingAutoDetect;
	let mutemessage = values.settingMuteMessage;
	let defeatstate = values.DefeatState;
	let iconnew = "";
	let currenthp = parseInt(values.HP);
	let halfhp = parseInt((values.HP_max) / 2);
	let egocon = values.egoCondition;
	let egostate = values.egoActiveState;

	/* EGO check*/
	if(egocon == "HalfHealth" && currenthp <= halfhp && egostate != "true"){
		setAttrs({"egoActiveState":"true"});
	}

	/* Defeat check */
	if(currenthp <= 0 && detect != "0" && defeatstate == "0"){

		setAttrs({"DefeatState":"Defeated"});

		} /* Defeat check end */

	});

});

/* Auto: EGO - Clear skill select */
on("change:egoActiveState", function() {

	getAttrs(["egoActiveState"], function(values) {
	let egostate = values.egoActiveState;

	if(egostate == "0"){

		setAttrs({"skillSelect":"0"});
		} 

	});

});

/* Auto: Skill loadout change - Clear skill select */
on("change:skill1Type change:skill2Type change:skill3Type change:skill4Type change:skill5Type change:skill6Type change:egoSkill1Type change:egoSkill2Type change:egoSkill3Type change:egoSkill4Type change:egoSkill5Type change:egoSkill6Type", function() {

	setAttrs({"skillSelect":"0"});


});


/* Auto: Panic State updates */
on("change:PanicState", function() {
	getAttrs(["SP", "PanicState", "settingMuteMessage", "messageOverride"], function(values) {

	let currentstate = values.PanicState;
	let messagestate = values.settingMuteMessage;
	let overridecheck = values.messageOverride;
	let iconnew = "<img src='https://imgsrv.roll20.net/?src=https%3A//64.media.tumblr.com/abe4b46394fdb5bf9d8edb7431b6053a/93376fe7e8a32371-35/s250x400/f60b2068c91fa77f019886efa8b3f287bd3d4c93.pnj' style='width: 30px; height: 30px;' >";

	if(overridecheck == "true"){
	messagestate = "true";
	setAttrs({"messageOverride":"0"});
	}

	setAttrs({"dummyIcon":iconnew});
	
	if(messagestate != "true" && currentstate == "0"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= is no longer Panicked.}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}
	else if(messagestate != "true" && currentstate == "Panic"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= went into Panic!}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}

	});
});

/* Auto: Defeat State updates */
on("change:DefeatState", function() {
	getAttrs(["DefeatState", "settingMuteMessage", "messageOverride"], function(values) {

	let currentstate = values.DefeatState;
	let messagestate = values.settingMuteMessage;
	let overridecheck = values.messageOverride;
	let iconnew = "<img src='https://imgsrv.roll20.net/?src=https%3A//64.media.tumblr.com/20767cc5d761fa065b05c20d77027c88/ee8331c4a7e9016b-5d/s250x400/f591c8a489b4247b94bef6e5380985c9e08f89a6.pnj' style='width: 30px; height: 30px;' title='Defeat: Incapable of combat for rest of battle.'>";

	if(overridecheck == "true"){
	messagestate = "true";
	setAttrs({"messageOverride":"0"});
	}

	setAttrs({"dummyIcon":iconnew});
	
	if(messagestate != "true" && currentstate != "0"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= can no longer fight.}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}

	});
});

/* Auto: Stagger State updates */
on("change:StaggerState", function() {
	getAttrs(["StagRes", "StaggerState", "settingMuteMessage", "egoCondition", "egoActiveState", "messageOverride"], function(values) {
	let iconnew = "<img src='https://64.media.tumblr.com/b9f3b296de15bb71454258048d4da750/9f44d181165558c5-5d/s250x400/243cd40e96bb9805543cacb0ab186b7674609592.pnj' style='width: 30px; height: 30px;' >";
	let currentstate = values.StaggerState;
	let messagestate = values.settingMuteMessage;
	let overridecheck = values.messageOverride;
	let egocon = values.egoCondition;
	let egostate = values.egoActiveState;

	if(egocon == "OnStagger" && currentstate != "0"){
	setAttrs({"egoActiveState":"true"});
	}

	if(overridecheck == "true"){
	messagestate = "true";
	setAttrs({"messageOverride":"0"});
	}

	setAttrs({"dummyIcon":iconnew});
	
	if(messagestate != "true" && currentstate == "0"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= is no longer Staggered.}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}
	else if(messagestate != "true" && currentstate == "Staggered"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= is Staggered!}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}

	});
});

/* Auto: Immobile State updates */
on("change:ImmobileState", function() {
	getAttrs(["ImmobileState", "settingMuteMessage", "messageOverride"], function(values) {

	let currentstate = values.ImmobileState;
	let messagestate = values.settingMuteMessage;
	let overridecheck = values.messageOverride;
	let iconnew = "<img src='https://imgsrv.roll20.net/?src=https%3A//64.media.tumblr.com/a27092351512e906d75295d79e398179/ee8331c4a7e9016b-65/s250x400/9bde71e3a847e9ce652c6122296f8808fc8a3670.pnj' style='width: 30px; height: 30px;' title='Immobile: Incapable of action/reactions'>";

	if(overridecheck == "true"){
	messagestate = "true";
	setAttrs({"messageOverride":"0"});
	}

	setAttrs({"dummyIcon":iconnew});
	
	if(messagestate != "true" && currentstate == "0"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= is no longer Immobile.}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}
	else if(messagestate != "true" && currentstate == "Immobile"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= is Immobile!}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}

	});
});

/* Auto: Seal State updates */
on("change:SealState", function() {
	getAttrs(["SealState", "settingMuteMessage", "messageOverride"], function(values) {

	let currentstate = values.SealState;
	let messagestate = values.settingMuteMessage;
	let overridecheck = values.messageOverride;
	let iconnew = "<img src='https://imgsrv.roll20.net/?src=https%3A//64.media.tumblr.com/24e5dd7d964e621bff03486deb299dd9/4f96c1507c227247-f3/s250x400/da5efb2885b805d030537a2d5b593366fec1f134.pnj' style='width: 30px; height: 30px;' title='Sealed: Incapable of reactions' >";

	if(overridecheck == "true"){
	messagestate = "true";
	setAttrs({"messageOverride":"0"});
	}

	setAttrs({"dummyIcon":iconnew});
	
	if(messagestate != "true" && currentstate == "0"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= is no longer Sealed.}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}
	else if(messagestate != "true" && currentstate != "0"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= is Sealed!}}", (results) => {

            finishRoll(results.rollId, {} );
        });
	}

	});
});


/* Action: Reset Ailments */
   on('clicked:resetAilments', function() {
	getAttrs(["SP"], function(values) {
	let newsan = parseInt(values.SP);

	if(newsan <= "0"){
	newsan = "1";
	}

	setAttrs({"messageOverride":"true"});

	setAttrs({  
    	"StaggerState":"0", "PanicState":"0", "SealState":"0", "ImmobileState":"0", "DefeatState":"0", "Burn": "0", "Bleed":"0", "Paralysis":"0", "Protection": "0", "StaggerProtection": "0", "Fragile": "0", "Strength": "0", "Feeble": "0", "Endurance": "0", "Disarm": "0", "Haste": "0", "Bind": "0", "Charge":"0", "Smoke": "0", "Seal":"0", "Fortune":"0", "ExtraAilment1":"0", "ExtraAilment2":"0", "ExtraAilment3":"0", "SP":newsan});


	});
});

/* Action: Reset health */
   on('clicked:resetHealth', function() {
	getAttrs(["HP_max", "StagRes_max", "SP_max", "Light_max", "egoCondition"], function(values) {
	let egocon = values.egoCondition;
	let egonew = "0";
 	let hpnew = parseInt(values.HP_max);
	let stagrnew = parseInt(values.StagRes_max);
	let spnew = parseInt(values.SP_max);
	let lightnew = parseInt(values.Light_max);

	if(egocon == "AlwaysActive"){
	egonew = "true";
	}

	setAttrs({"messageOverride":"true"});

	setAttrs({"HP": hpnew, "StagRes": stagrnew, "SP":spnew, "Light":lightnew, "egoActiveState":egonew, "StaggerState":"0", "PanicState":"0", "SealState":"0", "ImmobileState":"0", "DefeatState":"0"});


 		});

	});

/* Action: Reset stats */
   on('clicked:resetStats', function() {

	setAttrs({"instinct":"0", "wisdom":"0", "justice":"0", "charm":"0", "insight":"0", "temperance":"0"});

	});

/* Action: Reset roll helpers */
   on('clicked:resetHelpers', function() {
	getAttrs(["Paralysis", "Fortune"], function(values) {

	let newadvNum = values.Fortune;
	let newdisadvNum = values.Paralysis;

	setAttrs({"baseSpeed":"0", "Difficulty":"0", "advNum":newadvNum, "disadvNum":newdisadvNum, "advState":"0", "baseActNum":"0", "baseLuckNum":"0", "skillSelect":"0"});


 		});

	});


/* Auto: EGO condition update */
on("change:egoCondition", function() {

	getAttrs(["egoCondition", "HP", "HP_max", "StaggerState"], function(values) {
	let condition = values.egoCondition;
	let currenthp = parseInt(values.HP);
	let halfhp = parseInt((values.HP_max) / 2);
	let stagger = values.StaggerState;
	setAttrs({"egoActiveState":"0"});

	if(condition == "AlwaysActive"){
	setAttrs({"egoActiveState":"true"});

	}
	else if(condition == "OnStagger" && stagger != "0"){
	setAttrs({"egoActiveState":"true"});
	}
	else if(condition == "HalfHealth" && currenthp <= halfhp){
	setAttrs({"egoActiveState":"true"});
	}

	});
});

/* Auto: Update Skill Selection */
on("change:skillSelect", function() {

	/* Get IDs/names */
	getAttrs(["skillSelect"], function(values){
        let buttonid = values.skillSelect;
	let skillcat = buttonid.split('S')[0];

	let name = buttonid + "Name";
	let type = buttonid + "Type";
	let rank = buttonid + "Rank";
	let effect = buttonid + "Effect";
	let desc = buttonid + "Description";
	let light = buttonid + "Light";

	let diceA = buttonid + "Dice1";
	let diceB = buttonid + "Dice2";
	let diceC = buttonid + "Dice3";
	let noskill = "0";

	/* Get attributes */
	if(buttonid != "0"){
        getAttrs([`${name}`, `${type}`, `${rank}`, `${effect}`, `${desc}`, `${light}`, `${diceA}`, `${diceB}`, `${diceC}`, "Light"], function(values) {

	let skillname = values[name];
	let skillrank = values[rank];
	let skilltype = values[type];
	let skilleffect = values[effect];
	let skilldesc = values[desc];
	let skilllight = values[light];

	let skilldiceA = values[diceA];
	let skilldiceB = values[diceB];
	let skilldiceC = values[diceC];

	let currentLight = values.Light;

	if(currentLight < skilllight){
	noskill = "true";

	setAttrs({"selectName":skillname, "selectRank":"0", "selectType":"0", "selectEffect":skilleffect, "selectDescription":skilldesc, "selectLight":skilllight, "selectDice1":"0", "selectDice2":"0", "selectDice3":"0", "selectDefDice1":"0", "selectDefDice2":"0", "selectDefDice3":"0", "selectAtkDice1":"0", "selectAtkDice2":"0", "selectAtkDice3":"0", "selectEvdDice1":"0", "selectEvdDice2":"0", "selectEvdDice3":"0", "selectCancel":noskill});
	}
	else{
	if(skilltype == "Attack" || skilltype == "Mass"){
	setAttrs({"selectAtkDice1":skilldiceA, "selectAtkDice2":skilldiceB, "selectAtkDice3":skilldiceC, "selectDefDice1":"0", "selectDefDice2":"0", "selectDefDice3":"0", "selectEvdDice1":"0", "selectEvdDice2":"0", "selectEvdDice3":"0"});
		}
	else if(skilltype == "Defend"){
	setAttrs({"selectDefDice1":skilldiceA, "selectDefDice2":skilldiceB, "selectDefDice3":skilldiceC, "selectAtkDice1":"0", "selectAtkDice2":"0", "selectAtkDice3":"0", "selectEvdDice1":"0", "selectEvdDice2":"0", "selectEvdDice3":"0"});
		}
	else if(skilltype == "Evade"){
	setAttrs({"selectEvdDice1":skilldiceA, "selectEvdDice2":skilldiceB, "selectEvdDice3":skilldiceC, "selectDefDice1":"0", "selectDefDice2":"0", "selectDefDice3":"0", "selectAtkDice1":"0", "selectAtkDice2":"0", "selectAtkDice3":"0"});
		}
	else {
	setAttrs({"selectEvdDice1":"0", "selectEvdDice2":"0", "selectEvdDice3":"0", "selectDefDice1":"0", "selectDefDice2":"0", "selectDefDice3":"0", "selectAtkDice1":"0", "selectAtkDice2":"0", "selectAtkDice3":"0"});

		}

	setAttrs({"selectName":skillname, "selectRank":skillrank, "selectType":skilltype, "selectEffect":skilleffect, "selectDescription":skilldesc, "selectLight":skilllight, "selectDice1":skilldiceA, "selectDice2":skilldiceB, "selectDice3":skilldiceC, "selectCancel":noskill});
	}
		});
	}
else {
	setAttrs({"selectName":" ", "selectRank":"0", "selectType":"0", "selectEffect":" ", "selectDescription":" ", "selectLight":"0", "selectDice1":"0", "selectDice2":"0", "selectDice3":"0", "selectDefDice1":"0", "selectDefDice2":"0", "selectDefDice3":"0", "selectAtkDice1":"0", "selectAtkDice2":"0", "selectAtkDice3":"0", "selectEvdDice1":"0", "selectEvdDice2":"0", "selectEvdDice3":"0", "selectCancel":noskill});
	}

});

});



/* Action: Update ailments */
    on('clicked:updateAilments', function() {
	getAttrs(["settingMuteMessage", "settingBurnImmune", "StaggerState", "SealState", "ImmobileState", "Burn", "Smoke", "HP", "StagRes_max"], function(values) {
 	let burnnew = "0";
	let smokenew = "0";
	let stagnew = "0";
	let nomessage = values.settingMuteMessage;
	let burnimmune = values.settingBurnImmune;
	let stagcheck = values.StaggerState;
	let sealcheck = values.SealState;
	let immobilecheck = values.ImmobileState;
	let iconnew = "";

	/* Burn processing */
	if (parseInt(values.Burn) > 0){
	burnnew = parseInt(values.Burn/2);
	let burndamage = parseInt(values.Burn);
	let burnresult = parseInt(values.HP - values.Burn);
	let iconnew = "<img src='https://64.media.tumblr.com/b663728482e88d39e9f6b2a021380153/ee8331c4a7e9016b-9f/s250x400/78df78d481199a2755e1ba3fae55cdabc79fce66.pnj' style='width: 30px; height: 30px;' >";
	if(burnimmune == "true"){
	burnresult = parseInt(values.HP);
	}

	setAttrs({"HP":burnresult, "dummy":burndamage, "dummyIcon":iconnew});

	if(nomessage != "true" && burnimmune != "true"){
	startRoll("&{template:message} {{icon=@{dummyIcon}}} {{name=@{character_name}}} {{message= was burned for @{dummy} damage.}}", (results) => {
            finishRoll(results.rollId, {} );
       			 });

		}
	}

	/* Smoke processing */
	if (parseInt(values.Smoke) > 0){
	smokenew = parseInt(values.Smoke - 1);}


	/* Stagger processing */
	if(stagcheck != "0"){
	stagnew = parseInt(values.StagRes_max);

	setAttrs({"StaggerState":"0", "StagRes":stagnew});

	}

	/* Seal processing */
	if(sealcheck == "Seal"){

	setAttrs({"SealState":"0"});

	}

	/* Immobile processing */
	if(immobilecheck == "Immobile"){

	setAttrs({"ImmobileState":"0"});

	}


	setAttrs({  
    	"Burn": burnnew, "Paralysis":"0", "Protection": "0", "StaggerProtection": "0", "Fragile": "0", "Strength": "0", "Feeble": "0", "Endurance": "0", "Disarm": "0", "Haste": "0", "Bind": "0", "Smoke": smokenew, "Fortune":"0", "baseActNum":"0"});

	});


});

/* ? */
    on('clicked:test', (info) => {
        startRoll("&{template:test} {{name=@{weapon1-name}}} {{roll1=[[@{weapon1Dice1}d@{weapon1Dice2}+@{weapon1Dice3}]]}}", (results) => {
            const total = results.results.roll1.result
            const computed = total % 4;

            finishRoll(
                results.rollId,
                {
                    roll1: computed
                }
            );
        });
    });

function updateBleed() {
getAttrs(["Bleed", "HP", "settingBleedImmune", "settingMuteMessage", "character_name"], function(values) {
	let bleednew = "0";
	let bleedimmune = values.settingBleedImmune;
	let bleedmessage = " ";
	let charname = values.character_name;
	let nomessage = values.settingMuteMessage;

	/* Bleed processing */
	if (parseInt(values.Bleed) > 0){
		bleednew = parseInt(values.Bleed/2);
		let bleeddamage = parseInt(values.Bleed);
		let bleedresult = parseInt(values.HP - values.Bleed);
		let iconnew = "<img src='https://64.media.tumblr.com/ca5bf1aa0c06615828cf4fe067360b5a/ee8331c4a7e9016b-91/s250x400/236396acb530147c8e20e2d1feee4702271d5f00.pnj' style='width: 30px; height: 30px;' >";
		if(bleedimmune == "true"){
		bleedresult = parseInt(values.HP);
		}

		if(nomessage != "true" && bleedimmune != "true"){
		bleedmessage = iconnew + "<b>" + charname + "</b> bled for " + bleeddamage + " damage.";
		setAttrs({"dummy":bleedmessage, "HP":bleedresult, "Bleed":bleednew});

	/*--- Send roll --*/
	startRoll("&{template:message} {{message=@{dummy} }}", (results) => {
            finishRoll(results.rollId, { });
        });


	setAttrs({"dummy":" "});
	}
	}

	});

}

/* Action: Combat Roll */
on('clicked:rollCombat', (info) => {
	/* Preparing values */
	/* Get IDs/names */
        let buttonid = info.htmlAttributes.id.split('_')[1];
        let rawcheck = info.htmlAttributes.id.split('_')[2];

	let name = buttonid + "Name";
	let type = buttonid + "Type";
	let effect = buttonid + "Effect";
	let range = buttonid + "Range";

	let diceA = buttonid + "Dice1";
	let diceB = buttonid + "Dice2";
	let diceC = buttonid + "Dice3";

	let headercolor = "#888";
	let newicon = "/";
	let headertext = "#fff";

	let basetype = "";

	/* Action type formatting */
	if(buttonid == "def"){
	basetype = "Defend";
	headercolor = "#7397d1";
	newicon = "https://64.media.tumblr.com/fdf082387a5d2a27edb66dc478d81131/9f44d181165558c5-12/s250x400/8e3971a9a0b317c95935e90d6e8511d423d5110c.pnj";
	effect = "outfitEffect";
	name = "outfitName";
	}
	else if(buttonid == "egoDef") {
	basetype = "Defend";
	headercolor = "#000";
	headertext = "#6d9eeb";
	newicon = "https://64.media.tumblr.com/e46ec11b2b644ec6ad157c9f058a63e2/d3a9868a872774f2-ce/s250x400/16307e3891aee9995329d3a61464b506d623b340.pnj";
	effect = "egoEffect";
	name = "egoName";
	}
	else if(buttonid == "evd"){
	basetype = "Evade";
	headercolor = "#dbb748";
	newicon = "https://64.media.tumblr.com/b89c9da811023b70c12c76ac699db016/9f44d181165558c5-ad/s250x400/fc449786a9bcfb8e61c13d74d239b539a9b78bb7.pnj";
	effect = "outfitEffect";
	name = "outfitName";
	}
	else if(buttonid == "egoEvd"){
	basetype = "Evade";
	headercolor = "#000";
	headertext = "#f1c232";
	newicon = "https://64.media.tumblr.com/100f8589858f89e7c1f90642c361715b/d3a9868a872774f2-49/s250x400/3364d5717fc708454dcd381aa03e2dc150672cba.pnj";
	effect = "egoEffect";
	name = "egoName";
	}
	else if(buttonid == "act"){
	basetype = "Action";
	headercolor = "#8e7cc3";
	newicon = "https://64.media.tumblr.com/4aea178f49d1cb608ef0c13a3a632b40/6abcd4889ffff146-28/s250x400/4913cd23f4dfe82c181f3250d376d0abea44aa0f.pnj";
	}
	else if(buttonid == "egoWeapon"){
	basetype = "Attack";
	headercolor = "#000";
	headertext = "#cc4125";
	effect = "egoEffect";
	name = "egoName";
	}
	else {
	basetype = "Attack";
	headercolor = "#c25944";
	}
	

	/* Get attributes */
        getAttrs(["egoActiveState", "settingSimpleDisplay", "character_name", "advState", "difficulty", "skillSelect", "baseActNum", "Light", "difficulty", "Endurance", "Disarm", "Strength", "Feeble", "Fortune", "Paralysis", "instinct", "temperance", "insight", "selectName", "selectLight", "selectType", "selectDice1", "selectDice2", "selectDice3", "selectEffect", `${name}`, `${type}`, `${range}`, `${effect}`, `${diceA}`, `${diceB}`, `${diceC}`], function(values) {

	let currentlight = parseInt(values.Light);
	let newlight = parseInt(values.Light);
	let charname = values.character_name;
	let simpledisplay = values.settingSimpleDisplay;

	let skillselect = values.skillSelect;
	let advstate = values.advState;
	let difficulty = parseInt(values.difficulty);
	let lightmessage = "";
	let newfortune = values.Fortune;
	let newparalysis = values.Paralysis;

	let actcounter = parseInt(values.baseActNum) + 1;

	/* Base dice */
	let baseset = values;
	let basename = values[name];
	let baseeffect = values[effect];

	let basedice1 = values[diceA];
	let basedice2 = values[diceB];
	let basedice3 = values[diceC];

	let weapontype = values[type];
	let weaponrange = values[range];

	let basetypemessage = basetype;
	let weaponmessage = "";
	let attackmessage = "";

	/* Weapon icon variations */
	if(weapontype == "Slash" && buttonid != "egoWeapon"){
	newicon = "https://64.media.tumblr.com/4a0301c933b477b18658b7dd4c841c56/9f44d181165558c5-f3/s250x400/eec39612d61dfe72dc8ed6a138344d682f8e9b29.pnj";
	}
	else if(weapontype == "Pierce" && buttonid != "egoWeapon"){
	newicon = "https://64.media.tumblr.com/42b164c68a0b9eed1da36b1a890643f4/9f44d181165558c5-c0/s250x400/9e96dd6a53ae0119895e2a558f851b4db219ca6f.pnj";
	}
	else if(weapontype == "Blunt" && buttonid != "egoWeapon"){
	newicon= "https://64.media.tumblr.com/9800bc62dd54fb31eabf2d8ea6721709/9f44d181165558c5-ab/s250x400/2d7ba1e253f9de1b7c4ac6173f7dd0f5d620f3a9.pnj";
	}
	else if(weapontype == "Slash" && buttonid == "egoWeapon"){
	newicon = "https://64.media.tumblr.com/c3f6f34aa16f69a83a9352e4ad5b55db/4f96c1507c227247-13/s250x400/a8e8013b8c25e5c2937b12488f1dcdbf09d6b03e.pnj";
	}
	else if(weapontype == "Pierce" && buttonid == "egoWeapon"){
	newicon = "https://64.media.tumblr.com/b256ac167231bc27926ca1518529a33b/4f96c1507c227247-a1/s250x400/0fb09f72cd3be82558d18012feaf70a054a56e38.pnj";
	}
	else if(weapontype == "Blunt" && buttonid == "egoWeapon"){
	newicon= "https://64.media.tumblr.com/84e858f57dc8cc5ae1ecb96bfe303169/4f96c1507c227247-9a/s250x400/ddc824b9774be7ac87f0b3c695eaba00f8d571c8.pnj";
	}

	/* Skill */
	let skillname = values.selectName;
	let skilltype = values.selectType;
	let skillcost = values.selectLight;
	let skilleffect = "(No Skill)";
	let skilldice1 = "0";
	let skilldice2 = "0";
	let skilldice3 = "0";
	let skillmass = "";
	let skillinfo = "";

	if(currentlight >= skillcost && rawcheck != "raw"){

	

		if(skilltype == "Mass" && basetype == "Attack"){
		skilltype = "Attack";
		skillmass = " | Mass Attack";

			if(buttonid != "egoWeapon"){
			newicon = "https://64.media.tumblr.com/3f21376b7209f68ed215662631d1da61/9e4d26fca3dacaf6-f7/s250x400/0aab2d3f33eb8b70037f9de832d6fd90b233efd9.pnj";}
			else {
			newicon = "https://64.media.tumblr.com/828a79032bc314487e8c23f4104f5c4a/d3a9868a872774f2-89/s250x400/47847c6109d58d203d95890dce4f26e9f981c8a8.pnj";
	
			}

		}

		if(basetype == skilltype){

		skilldice1 = values.selectDice1;
		skilldice2 = values.selectDice2;
		skilldice3 = values.selectDice3;

		newlight = currentlight - skillcost;

		lightmessage = " <span style='color: #fee2b0'>(Skill)</span>";
		skillinfo= "<br><b>Skill: </b>" + skillname + "<br>";

		skilleffect = values.selectEffect;

			}
		}

	/* Power */
	let activepower = "0";
	if(basetype == "Attack"){
	activepower = parseInt(values.instinct) + parseInt(values.Strength) - parseInt(values.Feeble);
	
	attackmessage = weapontype + " | " + weaponrange + skillmass + "<br>";

	}
	else if(basetype == "Defend"){
	activepower = parseInt(values.temperance) + parseInt(values.Endurance) - parseInt(values.Disarm);

	}
	else if(basetype == "Evade"){
	activepower = parseInt(values.insight);
	}

	/* Dice formatting */
	combinedice1 = parseInt(basedice1) + parseInt(skilldice1);
	combinedice2 = parseInt(basedice2) + parseInt(skilldice2);
	combinedice3 = parseInt(basedice3) + parseInt(skilldice3) + parseInt(activepower);

	rollformat = combinedice1 + "d" + combinedice2 + "+" + combinedice3 + "+(" + parseInt(difficulty) + ")";

	/* Raw base dice override */
	if(rawcheck == "raw"){
	rollformat = parseInt(basedice1) + "d" + parseInt(basedice2) + "+" + parseInt(basedice3) + "+(" + parseInt(difficulty) + ")";

	}


	/* Advantage processing */
	let advmod = "";
	let rollformatmessage = rollformat + lightmessage;

	if(advstate == "Advantage"){
	advmod = "kh1";
	rollformat = "{(" + rollformat + "), (" + rollformat + ")}" + advmod;
	rollformatmessage = rollformatmessage + " <span style='color: #85a874;'>(Adv.)</span>";
	}

	else if(advstate == "Disadvantage"){
	advmod = "dh1";
	rollformat = "{(" + rollformat + "), (" + rollformat + ")}" + advmod;
	rollformatmessage = rollformatmessage + " <span style='color: #cc4125;'>(Disadv.)</span>";
	}
	else{
	advstate == " ";
	}


	let header = "<div style='background-color: #222; overflow: hidden; height: 30px; border: 2px #000 solid; color: " + headertext + "'><div style='float: left'><img src='" + newicon + "' style='width: 30px; height: 30px; border-right: 2px #000 solid; margin-right: 5px; background-color:" + headercolor + "'></div><div style='width: 55%; overflow: hidden; height: 20px; padding-top: 5px; float: left;'><b>" + basename + "</b></div></div>";

	let body = "<b>From: </b>"+ charname + "<br><b>Roll: </b>" + rollformatmessage + skillinfo + "<div style='text-align: center'>" + attackmessage + "</div><br><div style='width: 50%; height: 80px; float: left;'><b>Base effect:</b><br><div style='overflow: auto; border: 1px #555 solid; height: 70px;'>" + baseeffect + "</div></div><div style='width: 50%; height: 80px; float: left;'><b>Skill effect:</b><br><div style='overflow: auto; border: 1px #555 solid; height: 70px;'>" + skilleffect + "</div></div>";

	let info = header + body;

	if(simpledisplay == "true"){
	info = header;

	}


	setAttrs({"baseActNum":actcounter, "dummy":info, "Light":newlight, "dummy2":rollformat, "advState":advstate});

	/*--- send roll end --*/
	startRoll("&{template:baseRoll} {{roll1=[[@{dummy2}]]}} {{advantage=@{advState}}} {{infodump=@{dummy}}}", (results) => {
            //const total = results.results.roll1.result;

            finishRoll(
                results.rollId,
                {
           
                }
            );
        });
	/*--- send roll end ---*/


	/* Bleed processing */
	updateBleed();

	/* Cleanup */
	if(advstate == "Advantage"){
	newfortune = parseInt(values.Fortune - 1);

	if(newfortune < 0){
	newfortune = "0";

		}

	}
	else if(advstate == "Disadvantage"){
	newparalysis = parseInt(values.Paralysis - 1);	

	if(newparalysis < 0){
	newparalysis = "0";
		}

	}

	if((newparalysis + newfortune) == 0){
	advstate = "0";
	}

	setAttrs({"dummy":" ", "Paralysis":newparalysis, "Fortune":newfortune, "skillSelect":"0", "advState":advstate});

    });

});


/* Action: Roll Speed */
    on('clicked:speed', (info) => {
        startRoll("&{template:baseRoll} {{name=@{character_name}'s Speed}} {{roll1=[[1d6+@{justice}]]}}", (results) => {
            const total = results.results.roll1.result;

	setAttrs({                            
      "baseSpeed": total });

            finishRoll(
                results.rollId,
                {
   
                }
            );
        });
    });

/* Action: Challenge Roll */
on('clicked:rollChallenge', (info) => {
	/* Preparing values */
	/* Get IDs/names */
        let buttonid = info.htmlAttributes.id.split('_')[1];

	let headercolor = "#888";
	let newicon = "/";
	let headertext = "#fff";

	let basetype = "";

	//basetype = "Action";
	//headercolor = "#8e7cc3";
	newicon = "https://64.media.tumblr.com/4aea178f49d1cb608ef0c13a3a632b40/6abcd4889ffff146-28/s250x400/4913cd23f4dfe82c181f3250d376d0abea44aa0f.pnj";
	

	/* Get attributes */
        getAttrs([`${buttonid}`, "advState", "difficulty", "justice", "settingSimpleDisplay", "character_name", "Paralysis", "Fortune"], function(values) {

	let charname = values.character_name;
	let stat = values[buttonid];
	let statn = "";
	let advstate = values.advState;
	let simpledisplay = values.settingSimpleDisplay;
	let difficulty = values.difficulty;
	let spdjustice = values.justice;
	let newicon = "/";
	let lucknum = "0";

	let rollformat = "2d6" + "+" + parseInt(stat) + "+(" + parseInt(difficulty) + ")";

	/* Type Formatting */
	if(buttonid == "instinct"){
	newicon = "https://64.media.tumblr.com/5bad35e4301d7c08e6d10eff741e5fc0/3acd4d8f6456be78-fe/s400x600/e08664b0aeb4f51f0252616ce00bcba5f0a146b6.pnj";
	statn = "Instinct";
	}
	else if(buttonid == "wisdom"){
	newicon = "https://64.media.tumblr.com/440ed9b4fc565af4e617265c15ae7bf9/3acd4d8f6456be78-c6/s400x600/345f4ff6f275e44fced96da7b35d591225105824.pnj";
	statn = "Wisdom";
	}
	else if(buttonid == "justice"){
	newicon = "https://64.media.tumblr.com/26f52ca6f5633de846741cb9cfb0d6b3/3acd4d8f6456be78-6c/s400x600/f1bf22a03d782d7af6cdbc15dae658879d7bcc0c.pnj";
	statn = "Justice";

	}
	else if(buttonid == "charm"){
	newicon = "https://64.media.tumblr.com/bdc307911723f8f02b4d8e5f56e51b49/3acd4d8f6456be78-c1/s400x600/286f06c37e51eb016245148cdd050b0213c4d1be.pnj";
	statn = "Charm";
	}
	else if(buttonid == "insight"){
	newicon = "https://64.media.tumblr.com/187271058cccbcd88e32d2f177764fa0/3acd4d8f6456be78-13/s400x600/aad6740cb1dfdd9d0d2160e215af6adec9a0a5ce.pnj";
	statn = "Insight";
	}
	else if(buttonid == "temperance"){
	newicon = "https://64.media.tumblr.com/2dc75b657b162010ba89d515e231c2c8/3acd4d8f6456be78-b7/s400x600/edafa49981732996178a48b9411d4068ec4c8a2c.pnj";
	statn = "Temperance";
	}
	else if(buttonid == "luck"){
	newicon = "https://64.media.tumblr.com/5d546cda6055db519918f96e47282795/375c7aaea5998c0c-8f/s250x400/c8b2ec5d6851a1f3d7bea956f0ef0e5e66843d54.pnj";
	statn = "Luck";
	headercolor = "#dbb748";
	rollformat = "2d6+" + "(" + parseInt(difficulty) + ")";
	}
	else if(buttonid == "speed"){
	newicon = "https://64.media.tumblr.com/ec0ed4435607318b7c416dbc1ff9ca40/c221812303dae053-63/s250x400/662dc6d00991d2e670f2cf15e2ae24c04a2cfc51.pnj";
	statn = "Speed";
	headercolor = "#cf8c44";
	rollformat = "1d6+" + parseInt(spdjustice) + "+(" + parseInt(difficulty) + ")";

	}


/* Advantage processing */
	let advmod = "";
	let rollformatmessage = rollformat;

	if(advstate == "Advantage"){
	advmod = "kh1";
	rollformat = "{(" + rollformat + "), (" + rollformat + ")}" + advmod;
	rollformatmessage = rollformatmessage + " <span style='color: #85a874;'>(Adv.)</span>";
	}

	else if(advstate == "Disadvantage"){
	advmod = "dh1";
	rollformat = "{(" + rollformat + "), (" + rollformat + ")}" + advmod;
	rollformatmessage = rollformatmessage + " <span style='color: #cc4125;'>(Disadv.)</span>";
	}
	else{
	advstate == " ";
	}

	let header = "<div style='background-color: #222; overflow: hidden; height: 30px; border: 2px #000 solid; color: #fff'><div style='float: left'><img src='" + newicon + "' style='width: 30px; height: 30px; border-right: 2px #000 solid; margin-right: 5px; background-color:" + headercolor + "'></div><div style='width: 55%; overflow: hidden; height: 20px; padding-top: 5px; float: left;'><b>" + statn + "</b></div></div>";

	let body = "<b>From: </b>" + charname + "<br><b>Roll: </b>" + rollformatmessage;

	let info = header + body;

	if(simpledisplay == "true"){
	info = header;

	}


	setAttrs({"dummy":info, "dummy2":rollformat, "advState":advstate});

	/*--- send roll end --*/
	startRoll("&{template:baseRoll} {{roll1=[[ @{dummy2} ]]}} {{infodump=@{dummy}}}", (results) => {
	    const total = results.results.roll1.result;

	if(statn == "Luck"){
		setAttrs({"baseLuckNum": total });
	}
	else if(statn == "Speed"){
		setAttrs({"baseSpeed": total });
	}
	else{
		if(total >= 10){
		setAttrs({"dummy":"<div style='text-align: center'><b>Success!</b> <img src='https://64.media.tumblr.com/c9877fccf56187e66d6d16f6666800bb/8bc46af178dead79-7b/s250x400/7d4db63c9270372b811cb713370990ff49fef35a.pnj' style='width: 25px; height: 25px;'></div>"});
		}
		else if(total >= 7){
		setAttrs({"dummy":"<div style='text-align: center'><b>Partial Success</b> <img src='https://64.media.tumblr.com/de4935719e61e9d151841347d9edcde4/8bc46af178dead79-43/s250x400/e45a29c03ef652131b86dc0671cf9e1e48650ba7.pnj' style='width: 25px; height: 25px;'></div>"});
		}
		else if(total <= 6){
		setAttrs({"dummy":"<div style='text-align: center'><b>Failure...</b> <img src='https://64.media.tumblr.com/6a2219fcc2044c0b0735daa64b639910/8bc46af178dead79-52/s250x400/44f42bfd58892d00918d77a3e74099e962f12c3e.pnj' style='width: 25px; height: 25px;'></div>"});
		}

	startRoll("&{template:message} {{message= @{dummy} }}", (results2) => {

            finishRoll(results2.rollId, {} );
        	});
	}


            finishRoll(
                results.rollId,
                {

		}
            );
        });
	/*--- send roll end ---*/


	/* Bleed processing */
	//updateBleed();

	/* Cleanup */
	let newfortune = parseInt(values.Fortune);
	let newparalysis = parseInt(values.Paralysis);

	if(advstate == "Advantage"){
	newfortune = parseInt(values.Fortune - 1);

		if(newfortune < 0){
		newfortune = "0";}

	}
	else if(advstate == "Disadvantage"){
	newparalysis = parseInt(values.Paralysis - 1);	

		if(newparalysis < 0){
		newparalysis = "0";}

	}

	if((newparalysis + newfortune) == 0){
	advstate = "0";
	}

	setAttrs({"dummy":" ", "Paralysis":newparalysis, "Fortune":newfortune, "skillSelect":"0", "advState":advstate});



	});

});

/* Action: Declare action */
on('clicked:declareAction', (info) => {

	let headercolor = "#888";
	let newicon = "/";
	let headertext = "#fff";

	let basetype = "Action";
	headercolor = "#8e7cc3";
	newicon = "/";

	/* Get attributes */
        getAttrs(["actionType", "settingSimpleDisplay", "character_name", "Light", "selectName", "selectLight", "selectType", "selectDice1", "selectDice2", "selectDice3", "selectEffect", "selectDescription", "baseActNum"], function(values) {

	let charname = values.character_name;
	let simpledisplay = values.settingSimpleDisplay;
	let actiontype = values.actionType;
	let actiontext = "";
	let currentlight = values.Light;
	let actcounter = parseInt(values.baseActNum) + 1;

	/* Type Formatting */
	if(actiontype == "Tool"){
	newicon = "https://64.media.tumblr.com/4aea178f49d1cb608ef0c13a3a632b40/6abcd4889ffff146-28/s250x400/4913cd23f4dfe82c181f3250d376d0abea44aa0f.pnj";
	actiontext = "Use Tool";
	}
	else if(actiontype == "Move"){
	newicon = "https://64.media.tumblr.com/ec0ed4435607318b7c416dbc1ff9ca40/c221812303dae053-63/s250x400/662dc6d00991d2e670f2cf15e2ae24c04a2cfc51.pnj";
	actiontext = "Move";
	}
	else if(actiontype == "Protect"){
	newicon = "https://64.media.tumblr.com/fdf082387a5d2a27edb66dc478d81131/9f44d181165558c5-12/s250x400/8e3971a9a0b317c95935e90d6e8511d423d5110c.pnj";
	actiontext = "Protect";

	}
	else if(actiontype == "Other"){
	newicon = "https://64.media.tumblr.com/7d2b9327ad56b6fb41751f2e8fc8b47b/375c7aaea5998c0c-87/s250x400/d6e3274d791fd217ce36589c818797f3c7511aed.pnj";
	actiontext = "Other";
	}

	/* Skill info */
		/* Skill */
	let skillname = values.selectName;
	let skilltype = values.selectType;
	let skillcost = values.selectLight;
	let skilldesc = values.selectDescription;
	let skilleffect = values.selectEffect;

	let skilldice1 = "0";
	let skilldice2 = "0";
	let skilldice3 = "0";
	let skillinfo = "";

	let lightmessage = "";

	if(currentlight >= skillcost){

		if(skilltype == "Action"){

		skilldice1 = values.selectDice1;
		skilldice2 = values.selectDice2;
		skilldice3 = values.selectDice3;

		newlight = currentlight - skillcost;

		lightmessage = " <span style='color: #fee2b0'>(Skill)</span>";
		skillinfo= "<b>Skill: </b>" + skillname + "<br><div style='width: 50%; height: 80px; float: left;'><b>Description:</b><br><div style='overflow: auto; border: 1px #555 solid; height: 70px;'>" + skilldesc + "</div></div><div style='width: 50%; height: 80px; float: left;'><b>Effect:</b><br><div style='overflow: auto; border: 1px #555 solid; height: 70px;'>" + skilleffect + "</div></div>";


			}
	}



	let info = "<div style='background-color: #222; overflow: hidden; height: 30px; border: 2px #000 solid; color: #fff'><div style='float: left'><img src='" + newicon + "' style='width: 30px; height: 30px; border-right: 2px #000 solid; margin-right: 5px; background-color:" + headercolor + "'></div><div style='width: 80%; overflow: hidden; height: 20px; padding-top: 5px; float: left;'><b>" + actiontext + lightmessage + "</b></div></div><b>From:</b> " + charname + "<br>" + skillinfo;

	let body = "<b>From:<b> " + charname;




	setAttrs({"dummy":info});

	/*--- send roll end --*/
	startRoll("&{template:baseRoll} {{infodump=@{dummy}}}", (results) => {
            finishRoll(
                results.rollId,
                {

		}
            );
        });
	/*--- send roll end ---*/


	/* Bleed processing */
	updateBleed();

	setAttrs({"dummy":" ", "skillSelect":"0", "Light":newlight, "baseActNum":actcounter});



	});

});



/* Share: Outfit */
on("clicked:shareOutfit", function() {
	getAttrs(["outfitImmune1", "outfitImmune2", "outfitImmune3", "outfitImmune4", "outfitImmune5", "outfitImmune6", "outfitRank", "outfitEffect", "outfitDescription"], function(values) {

	let iconSlash = "<img src='https://64.media.tumblr.com/8e7ae22093ceb1527eaa98dfe1d05b33/ffe5ed6c84d57bcf-4e/s250x400/e001d0a4a3d60f030287e60c2fc92147c53b5685.pnj' style='width: 25px; height: 25px;'>";
	let iconSlashSTG = "<img src='https://64.media.tumblr.com/c33bc5031a91887b414877e5a8251a13/ffe5ed6c84d57bcf-99/s250x400/24ad27b8c8c1e025b4b54b7997b332441445da94.pnj' style='width: 25px; height: 25px;'>";

	let iconPierce = "<img src='https://64.media.tumblr.com/ab650fa6270a9618756839749cdf62ad/46851a82b667f5c6-f6/s250x400/339596ff24cf03243428e411558b39f8732739f5.pnj' style='width: 25px; height: 25px;'>";
	let iconPierceSTG = "<img src='https://64.media.tumblr.com/e4beed54ecdd53d0eeb3e2bcc497732f/46851a82b667f5c6-99/s250x400/336e0f320b832fa7a4439742080a3a0627e3cb3e.pnj' style='width: 25px; height: 25px;'>";

	let iconBlunt = "<img src='https://64.media.tumblr.com/beffb5229b4918a9624c0f42771551f6/60ff90c3e506e5cb-c2/s250x400/db4f18aec88566c65328f14a47695716483f62cb.pnj' style='width: 25px; height: 25px;'>";
	let iconBluntSTG = "<img src='https://64.media.tumblr.com/cebb945b9418455b48822f2cc8526ca4/60ff90c3e506e5cb-7b/s250x400/81c7141983560220f3edf2193d923fc3acb42c76.pnj' style='width: 25px; height: 25px;'>";

	let immune = 
	"<div style='height:15px;'><div style='width: 70px; color: #c25944; float: left'>" + iconSlash + " x" + values.outfitImmune1 + "</div> <div style='width: 70px; color: #dbb748; float: left;'>" + iconSlashSTG + " x" + values.outfitImmune2 + "</div></div><br>" + 
	"<div style='height:15px;'><div style='width: 70px; color: #c25944; float: left'>" + iconPierce + " x" + values.outfitImmune3 + "</div> <div style='width: 70px; color: #dbb748; float: left;'>" + iconPierceSTG + " x" + values.outfitImmune4 + "</div></div><br>" +
	"<div style='height:15px;'><div style='width: 70px; color: #c25944; float: left'>" + iconBlunt + " x" + values.outfitImmune5 + "</div> <div style='width: 70px; color: #dbb748; float: left;'>" + iconBluntSTG + " x" + values.outfitImmune6 + "</div></div>";



	let iconnew = "<img src='https://64.media.tumblr.com/fdf082387a5d2a27edb66dc478d81131/9f44d181165558c5-12/s250x400/8e3971a9a0b317c95935e90d6e8511d423d5110c.pnj' style='width: 30px; height: 30px;' >";
	let headTag = "<div style='background-color: #7397d1; overflow: hidden; height: 30px;'>";

	setAttrs({"dummyIcon":iconnew, "dummy":headTag, "dummy2":immune});

	/* Send */
	startRoll("&{template:share} {{headtag=@{dummy} }} {{icon=@{dummyIcon} }} {{name= @{outfitName} }} {{description= @{outfitDescription} }} {{rank= @{outfitRank} }} {{effect= @{outfitEffect} }} {{res= @{dummy2} }} {{defdice= @{defDice1}d@{defDice2}+@{defDice3} }} {{evddice= @{evdDice1}d@{evdDice2}+@{evdDice3} }}", (results) => {

            finishRoll(results.rollId, {} );
        });


	});
});

/* Share: Augment */
on("clicked:shareAugment", function() {

	let headTag = "<div style='background-color: #85a874; overflow: hidden; height: 30px;'>";
	let iconnew = "<img src='/' style='width: 5px; height: 30px; opacity: 0%;'>";

	setAttrs({"dummy":headTag, "dummyIcon":iconnew});

	/* Send */
	startRoll("&{template:share} {{headtag=@{dummy} }} {{icon=@{dummyIcon} }} {{name=@{augmentName} }} {{rank= @{augmentRank} }} {{res= @{augmentEffect} }} {{effect= @{augmentDescription} }} {{type= @{augmentType} }}", (results) => {

            finishRoll(results.rollId, {} );
        });

});

/*-- Share: Tools --*/
on("clicked:shareTool", function(info) {

	/* Get IDs/names */
        let buttonid = info.htmlAttributes.id.split('_')[1];

	let name = buttonid + "Name";
	let type = buttonid + "Type";
	let rank = buttonid + "Rank";
	let effect = buttonid + "Effect";
	let desc = buttonid + "Description";

	let portable = buttonid + "Portable";
	let reusable = buttonid + "Reusable";
	let uses = buttonid + "Uses";

	let header = "";
	let body = "";

	/* Get attributes */
        getAttrs([`${name}`, `${type}`, `${rank}`, `${effect}`, `${desc}`, `${portable}`, `${reusable}`, `${uses}`], function(values) {

	let toolname = values[name];
	let toolrank = values[rank];
	let tooltype = values[type];
	let tooleffect = values[effect];
	let tooldesc = values[desc];
	let toolportable = values[portable];
	let toolreusable = values[reusable];
	let tooluses = values[uses];
	let toolinfo = "";

	/* Formatting */

	if(toolportable != "Portable"){
	toolportable = "Not portable";
	}
	else { toolportable = "Portable"; }
	
	if(toolreusable != "Reusable") {
	toolreusable = "Not reusable";
	}
	else{ toolreusable = "Reusable (" + tooluses + ")"; }

	if(toolreusable != " " && toolportable != " ") {
	toolinfo = toolportable + " | " + toolreusable; 
	}
	else { toolinfo = toolportable + toolreusable; }

	header = "<div style='background-color: #8e7cc3; overflow: hidden; height: 30px;'><div style='float: left'><img src='/' style='width: 5px; height: 30px; opacity: 0%;'></div><div style='width: 55%; overflow: hidden; height: 20px; padding-top: 5px; float: left;'><b>" + toolname + "</b></div><div style='position: absolute; top: 5px; right: 5px;'> <b>Rank:</b>" + toolrank + "</div></div>";

	body = "<div style='text-align: center; padding-top: 3px; padding-bottom: 3px; border-bottom: 1px #555 solid;'>" + toolinfo + "</div><div style='width: 100%; height: 70px; overflow: hidden;'><div style='height: 70px; width: 49%; border-right: 1px #555 solid; overflow: auto; float: left;'>" + tooldesc + "</div><div style='height: 70px; width: 49%; overflow: auto; float: left;'>" + tooleffect + "</div></div>";

	setAttrs({"dummy":header, "dummy2":body});

	/* Send */
	startRoll("&{template:shareB} {{header=@{dummy} }} {{body=@{dummy2} }}", (results) => {

            finishRoll(results.rollId, {} );
        });

	setAttrs({"dummy":" ", "dummy2":" "});

    });

});


/*-- Share: Special items --*/
on("clicked:shareSpecial", function(info) {

	/* Get IDs/names */
        let buttonid = info.htmlAttributes.id.split('_')[1];

	let name = buttonid + "Name";
	let rank = buttonid + "Rank";
	let desc = buttonid + "Description";

	let risk = buttonid + "Risk";
	let duration = buttonid + "Range";
	let range = buttonid + "Duration";

	let header = "";
	let body = "";

	/* Get attributes */
        getAttrs([`${name}`, `${rank}`, `${desc}`, `${risk}`, `${range}`, `${duration}`], function(values) {

	let specialname = values[name];
	let specialrank = values[rank];
	let specialdesc = values[desc];
	let specialrisk = values[risk];
	let specialrange = values[range];
	let specialduration = values[duration];

	/* Formatting */

/* Switching Risk to string */
	switch (specialrisk) {
  	case "0":
   	 specialrisk = "Canard";
    	 break;
 	case "1":
   	 specialrisk = "Urban Myth";
    	 break;
 	case "2":
   	 specialrisk = "Urban Legend";
    	 break;
	case "3":
   	 specialrisk = "Urban Plague";
    	 break;
	case "4":
   	 specialrisk = "Urban Nightmare";
    	 break;
	case "5":
   	 specialrisk = "Star of the City";
    	 break;
	case "6":
   	 specialrisk = "Impuritas Civitatis";
    	 break;
  	default:
    	 specialrisk = "---";
	}

	/* Switching Range to string */
	switch (specialrange) {
  	case "0":
   	 specialrange = "One or two people";
    	 break;
 	case "1":
   	 specialrange = "Street";
    	 break;
 	case "2":
   	 specialrange = "Neighborhood";
    	 break;
	case "3":
   	 specialrange = "Residence Area";
    	 break;
	case "4":
   	 specialrange = "Nest";
    	 break;
	case "5":
   	 specialrange = "Multiple Nests";
    	 break;
	case "6":
   	 specialrange = "City";
    	 break;
  	default:
    	 specialrange = "---";
	}

	/* Switching Duration to string */
	switch (specialduration) {
  	case "0":
   	 specialduration = "A moment";
    	 break;
 	case "1":
   	 specialduration = "Seconds";
    	 break;
 	case "2":
   	 specialduration = "Minutes";
    	 break;
	case "3":
   	 specialduration = "Hours";
    	 break;
	case "4":
   	 specialduration = "Days";
    	 break;
	case "5":
   	 specialduration = "Weeks";
    	 break;
	case "6":
   	 specialduration = "Months";
    	 break;
  	default:
    	 specialduration = "---";
	}

	header = "<div style='background-color: #cf8c44; overflow: hidden; height: 30px; padding-left: 5px;'><div style='width: 55%; overflow: hidden; height: 20px; padding-top: 5px; float: left;'><b>" + specialname + "</b></div><div style='position: absolute; top: 5px; right: 5px;'> <b>Rank:</b>" + specialrank + "</div></div>";

	body = "<div style='text-align: center; padding-top: 3px; padding-bottom: 3px; border-bottom: 1px #555 solid;'><div style='text-align: left; padding: 5px;'><b>Risk</b>: " + specialrisk + "<br> <b>Range</b>: " + specialrange + "<br> <b>Duration</b>: " + specialduration + "</div></div><div style='height: 60px; width: 98%; border-top: 1px #555 solid; overflow: auto; float: left; padding: 3px;'>" + specialdesc + "</div>";

	setAttrs({"dummy":header, "dummy2":body});

	/* Send */
	startRoll("&{template:shareB} {{header=@{dummy} }} {{body=@{dummy2} }}", (results) => {

            finishRoll(results.rollId, {} );
        });

	setAttrs({"dummy":" ", "dummy2":" "});

    });

});

/*-- Share: Weapons --*/
on("clicked:shareWeapon", function(info) {

	/* Get IDs/names */
        let buttonid = info.htmlAttributes.id.split('_')[1];

	let name = buttonid + "Name";
	let type = buttonid + "Type";
	let rank = buttonid + "Rank";
	let effect = buttonid + "Effect";
	let desc = buttonid + "Description";
	let range = buttonid + "Range";

	let diceA = buttonid + "Dice1";
	let diceB = buttonid + "Dice2";
	let diceC = buttonid + "Dice3";

	let header = "";
	let body = "";

	/* Get attributes */
        getAttrs([`${name}`, `${type}`, `${rank}`, `${effect}`, `${desc}`, `${range}`, `${diceA}`, `${diceB}`, `${diceC}`], function(values) {

	let weaponname = values[name];
	let weaponrank = values[rank];
	let weapontype = values[type];
	let weaponeffect = values[effect];
	let weapondesc = values[desc];
	let weaponrange = values[range];
	let weapondice = values[diceA] + "d" + values[diceB] + "+" + values[diceC];

	/* Formatting */
	let iconnew = "<img src='/' style='width: 30px; height: 30px; opacity: 0%;'>";

	if(weapontype == "Slash"){
	iconnew = "<img src='https://64.media.tumblr.com/4a0301c933b477b18658b7dd4c841c56/9f44d181165558c5-f3/s250x400/eec39612d61dfe72dc8ed6a138344d682f8e9b29.pnj' style='width: 30px; height: 30px;'>";
	}
	else if(weapontype == "Pierce"){
	iconnew = "<img src='https://64.media.tumblr.com/42b164c68a0b9eed1da36b1a890643f4/9f44d181165558c5-c0/s250x400/9e96dd6a53ae0119895e2a558f851b4db219ca6f.pnj' style='width: 30px; height: 30px;'>";
	}
	else if(weapontype == "Blunt"){
	iconnew = "<img src='https://64.media.tumblr.com/9800bc62dd54fb31eabf2d8ea6721709/9f44d181165558c5-ab/s250x400/2d7ba1e253f9de1b7c4ac6173f7dd0f5d620f3a9.pnj' style='width: 30px; height: 30px;'>";
	}

	header = "<div style='background-color: #c25944; overflow: hidden; height: 30px;'><div style='float: left'>" + iconnew + "</div><div style='width: 55%; overflow: hidden; height: 20px; padding-top: 5px; float: left;'><b>" + weaponname + "</b></div><div style='position: absolute; top: 5px; right: 5px;'> <b>Rank:</b>" + weaponrank + "</div></div>";

	body = "<div style='text-align: center; padding-top: 3px; padding-bottom: 3px; border-bottom: 1px #555 solid;'><b>Att: </b>" + weapondice + " | " + weapontype + " | " + weaponrange + "</div><div style='width: 100%; height: 70px; overflow: hidden;'><div style='height: 70px; width: 49%; border-right: 1px #555 solid; overflow: auto; float: left;'>" + weapondesc + "</div><div style='height: 70px; width: 49%; overflow: auto; float: left;'>" + weaponeffect + "</div></div>";

	setAttrs({"dummy":header, "dummy2":body});

	/* Send */
	startRoll("&{template:shareB} {{header=@{dummy} }} {{body=@{dummy2} }}", (results) => {

            finishRoll(results.rollId, {} );
        });

	setAttrs({"dummy":" ", "dummy2":" "});

    });

});

/*-- Share: Ego --*/
on("clicked:shareEgo", function(info) {

	/* Get attributes */
        getAttrs(["egoName", "egoRank", "egoIdeology", "egoCondition", "egoType", "egoDescription", "egoEffect", "egoWeaponType", "egoWeaponRange", "egoWeaponDice1", "egoWeaponDice2", "egoWeaponDice3", "egoDefDice1", "egoDefDice2", "egoDefDice3", "egoEvdDice1", "egoEvdDice2", "egoEvdDice3", "egoImmune1", "egoImmune2", "egoImmune3", "egoImmune4", "egoImmune5", "egoImmune6"], function(values) {
	let name = values.egoName;
	let rank = values.egoRank;
	let condition = values.egoCondition;
	let type = values.egoType;
	let effect = values.egoEffect;
	let desc = values.egoDescription;
	let ideology = values.egoIdeology;

	let iconnew = "https://64.media.tumblr.com/7d2b9327ad56b6fb41751f2e8fc8b47b/375c7aaea5998c0c-87/s250x400/d6e3274d791fd217ce36589c818797f3c7511aed.pnj";
	let typecolor = "#fff";
	let bottomdata = "";

	/* Condition formatting */
	switch (condition) {
  	case "AlwaysActive":
   	 condition = "Always active";
    	 break;
 	case "HalfHealth":
   	 condition = "50% health";
    	 break;
 	case "OnStagger":
   	 condition = "On stagger";
    	 break;
 	case "EnemyDefeat":
   	 condition = "Enemy defeat";
    	 break;
 	case "AllyDeath":
   	 condition = "Ally death";
    	 break;
  	default:
    	 condition = "---";
	}


	/* Formatting */
	if(type == "Weapon"){
	let diceA = values.egoWeaponDice1 + "d" + values.egoWeaponDice2 + "+" + values.egoWeaponDice3;
	let weapontype = values.egoWeaponType;
	let weaponrange = values.egoWeaponRange;

	typecolor = "#cc4125";

	if(weapontype == "Slash"){
	iconnew = "https://64.media.tumblr.com/c3f6f34aa16f69a83a9352e4ad5b55db/4f96c1507c227247-13/s250x400/a8e8013b8c25e5c2937b12488f1dcdbf09d6b03e.pnj";
		}
	else if(weapontype == "Pierce"){
	iconnew = "https://64.media.tumblr.com/b256ac167231bc27926ca1518529a33b/4f96c1507c227247-a1/s250x400/0fb09f72cd3be82558d18012feaf70a054a56e38.pnj";
		}
	else if(weapontype == "Blunt"){
	iconnew = "https://64.media.tumblr.com/84e858f57dc8cc5ae1ecb96bfe303169/4f96c1507c227247-9a/s250x400/ddc824b9774be7ac87f0b3c695eaba00f8d571c8.pnj";
		}

	bottomdata = "<div style='text-align: center; padding-top: 5px; padding-bottom: 5px; color:" + typecolor + "; background-color: #000;'><b>Att:</b> " + diceA + " | " + weapontype + " | " + weaponrange + "</div>";
	

	}
	else if(type == "Outfit"){
	typecolor = "#6d9eeb";
	iconnew = "https://64.media.tumblr.com/e46ec11b2b644ec6ad157c9f058a63e2/d3a9868a872774f2-ce/s250x400/16307e3891aee9995329d3a61464b506d623b340.pnj";

	let diceD = values.egoDefDice1 + "d" + values.egoDefDice2 + "+" + values.egoDefDice3;
	let diceE = values.egoEvdDice1 + "d" + values.egoEvdDice2 + "+" + values.egoEvdDice3;

let iconSlash = "<img src='https://64.media.tumblr.com/8e7ae22093ceb1527eaa98dfe1d05b33/ffe5ed6c84d57bcf-4e/s250x400/e001d0a4a3d60f030287e60c2fc92147c53b5685.pnj' style='width: 25px; height: 25px;'>";
	let iconSlashSTG = "<img src='https://64.media.tumblr.com/c33bc5031a91887b414877e5a8251a13/ffe5ed6c84d57bcf-99/s250x400/24ad27b8c8c1e025b4b54b7997b332441445da94.pnj' style='width: 25px; height: 25px;'>";

	let iconPierce = "<img src='https://64.media.tumblr.com/ab650fa6270a9618756839749cdf62ad/46851a82b667f5c6-f6/s250x400/339596ff24cf03243428e411558b39f8732739f5.pnj' style='width: 25px; height: 25px;'>";
	let iconPierceSTG = "<img src='https://64.media.tumblr.com/e4beed54ecdd53d0eeb3e2bcc497732f/46851a82b667f5c6-99/s250x400/336e0f320b832fa7a4439742080a3a0627e3cb3e.pnj' style='width: 25px; height: 25px;'>";

	let iconBlunt = "<img src='https://64.media.tumblr.com/beffb5229b4918a9624c0f42771551f6/60ff90c3e506e5cb-c2/s250x400/db4f18aec88566c65328f14a47695716483f62cb.pnj' style='width: 25px; height: 25px;'>";
	let iconBluntSTG = "<img src='https://64.media.tumblr.com/cebb945b9418455b48822f2cc8526ca4/60ff90c3e506e5cb-7b/s250x400/81c7141983560220f3edf2193d923fc3acb42c76.pnj' style='width: 25px; height: 25px;'>";

	let immune = 
	"<div style='height:15px;'><div style='width: 70px; color: #c25944; float: left'>" + iconSlash + " x" + values.egoImmune1 + "</div> <div style='width: 70px; color: #dbb748; float: left;'>" + iconSlashSTG + " x" + values.egoImmune2 + "</div></div><br>" + 
	"<div style='height:15px;'><div style='width: 70px; color: #c25944; float: left'>" + iconPierce + " x" + values.egoImmune3 + "</div> <div style='width: 70px; color: #dbb748; float: left;'>" + iconPierceSTG + " x" + values.egoImmune4 + "</div></div><br>" +
	"<div style='height:15px;'><div style='width: 70px; color: #c25944; float: left'>" + iconBlunt + " x" + values.egoImmune5 + "</div> <div style='width: 70px; color: #dbb748; float: left;'>" + iconBluntSTG + " x" + values.egoImmune6 + "</div></div>";

	bottomdata = "<div style='background-color: #000; height: 70px;'><div style='text-align: center; padding-top: 15px; padding-bottom: 15px; color:" + typecolor + "; width: 49%; float: left;'><b>Def:</b> " + diceD + "<br><span style='color: #dbb748'><b>Evd</b>: " + diceE + "</span></div><div style='height: 70px; width:49%; float: left; overflow: auto;'>" + immune +"</div></div>";

	}
	else if(type == "Tool"){
	typecolor = "#8e7cc3";
iconnew = "https://64.media.tumblr.com/a842f5560de6e8e2303c81b0707c8ed8/d3a9868a872774f2-74/s250x400/20c9fab30f0a95bc81e9ca7353a82abce4bebe2c.pnj";
	}
	else if(type == "Special"){
	typecolor = "#cf8c44";
iconnew = "https://64.media.tumblr.com/5b62343678de10115c62ba1e04efcdf0/375c7aaea5998c0c-8f/s250x400/625d270a73968270f7d915945e844d8f9c8742bc.pnj";
	}
	else if(type == "0"){
	type = "---";
	}

	header = "<div style='background-color: #000; color: " + typecolor + "; overflow: hidden; height: 30px;'><div style='float: left'><img src='" + iconnew + "' style='width: 30px; height: 30px;'></div><div style='width: 55%; overflow: hidden; height: 20px; padding-top: 5px; float: left;'><b>" + name + "</b></div><div style='position: absolute; top: 5px; right: 5px;'> <b>Rank:</b>" + rank + "</div></div>";
	body = "";
	body = "<div style='text-align: center; padding-top: 3px; padding-bottom: 3px; border-bottom: 1px #555 solid;'><b>Type:</b> " + type + " | " + condition + "</div><div style='padding: 3px; border-bottom: 1px #555 solid; max-height: 30px; overflow: auto;'>" + ideology + "</div><div style='width: 100%; height: 70px; overflow: hidden;'><div style='height: 70px; width: 49%; border-right: 1px #555 solid; overflow: auto; float: left;'>" + desc + "</div><div style='height: 70px; width: 49%; overflow: auto; float: left;'>" + effect + "</div></div>" + bottomdata;

	setAttrs({"dummy":header, "dummy2":body});

	/* Send */
	startRoll("&{template:shareB} {{header=@{dummy} }} {{body=@{dummy2} }}", (results) => {

            finishRoll(results.rollId, {} );
        });

	setAttrs({"dummy":" ", "dummy2":" "});

    });

});

/*-- Share: Skills --*/
on("clicked:shareSkill", function(info) {

	/* Get IDs/names */
        let buttonid = info.htmlAttributes.id.split('_')[1];
	let skillcat = buttonid.split('S')[0];

	let name = buttonid + "Name";
	let type = buttonid + "Type";
	let rank = buttonid + "Rank";
	let effect = buttonid + "Effect";
	let desc = buttonid + "Description";
	let light = buttonid + "Light";

	let diceA = buttonid + "Dice1";
	let diceB = buttonid + "Dice2";
	let diceC = buttonid + "Dice3";

	let header = "";
	let body = "";

	/* Get attributes */
        getAttrs([`${name}`, `${type}`, `${rank}`, `${effect}`, `${desc}`, `${light}`, `${diceA}`, `${diceB}`, `${diceC}`], function(values) {

	let skillname = values[name];
	let skillrank = values[rank];
	let skilltype = values[type];
	let skilleffect = values[effect];
	let skilldesc = values[desc];
	let skilllight = values[light];
	let skilldice = values[diceA] + "d" + values[diceB] + "+" + values[diceC];
	let iconurl = "/";
	let iconbg = "#555";
	let headerbg = "#555";

	/* Formatting */

	if (skillcat == "ego"){
	iconbg = "#000";
	headerbg = "#000";

	if(skilltype == "Attack"){
	iconurl = "https://64.media.tumblr.com/52f299c95e9077c5900ee76c74a3c787/d3a9868a872774f2-84/s250x400/62a9096d5f57611981b7fbed65c955b10d04e6f2.pnj";
		}
	else if(skilltype == "Defend"){
	iconurl = "https://64.media.tumblr.com/e46ec11b2b644ec6ad157c9f058a63e2/d3a9868a872774f2-ce/s250x400/16307e3891aee9995329d3a61464b506d623b340.pnj";
		}
	else if(skilltype == "Evade"){
	iconurl = "https://64.media.tumblr.com/100f8589858f89e7c1f90642c361715b/d3a9868a872774f2-49/s250x400/3364d5717fc708454dcd381aa03e2dc150672cba.pnj";
		}
	else if(skilltype == "Action"){
	iconurl = "https://64.media.tumblr.com/a842f5560de6e8e2303c81b0707c8ed8/d3a9868a872774f2-74/s250x400/20c9fab30f0a95bc81e9ca7353a82abce4bebe2c.pnj";
		}
	else if(skilltype == "Mass"){
	iconurl = "https://64.media.tumblr.com/828a79032bc314487e8c23f4104f5c4a/d3a9868a872774f2-89/s250x400/47847c6109d58d203d95890dce4f26e9f981c8a8.pnj";
		}
	}
	else{
	if(skilltype == "Attack"){
	iconurl = "https://64.media.tumblr.com/8ede5bf21930f9d2c4d85da393518565/9e4d26fca3dacaf6-85/s250x400/2888f5e3379f58012dfcfa583d00cc545296e7a5.pnj";
	iconbg = "#cc4125";
		}
	else if(skilltype == "Defend"){
	iconurl = "https://64.media.tumblr.com/fdf082387a5d2a27edb66dc478d81131/9f44d181165558c5-12/s250x400/8e3971a9a0b317c95935e90d6e8511d423d5110c.pnj";
	iconbg = "#6d9eeb";
		}
	else if(skilltype == "Evade"){
	iconurl = "https://64.media.tumblr.com/b89c9da811023b70c12c76ac699db016/9f44d181165558c5-ad/s250x400/fc449786a9bcfb8e61c13d74d239b539a9b78bb7.pnj";
	iconbg = "#f1c232";
		}
	else if(skilltype == "Action"){
	iconurl = "https://64.media.tumblr.com/4aea178f49d1cb608ef0c13a3a632b40/6abcd4889ffff146-28/s250x400/4913cd23f4dfe82c181f3250d376d0abea44aa0f.pnj";
	iconbg = "#8e7cc3";
		}
	else if(skilltype == "Mass"){
	iconurl = "https://64.media.tumblr.com/3f21376b7209f68ed215662631d1da61/9e4d26fca3dacaf6-f7/s250x400/0aab2d3f33eb8b70037f9de832d6fd90b233efd9.pnj";
	iconbg = "#cc4125";
		}
	}

	let iconnew = "<img src='" + iconurl + "' style='width: 28px; height: 28px; border-radius: 100px; border: 1px #fff solid; background-color: " + iconbg + ";'>";

	header = "<div style='background-color: " + headerbg + "; overflow: hidden; height: 30px;'><div style='float: left'>" + iconnew + "</div><div style='width: 55%; overflow: hidden; height: 20px; padding-top: 5px; padding-left: 2px; float: left;'><b>" + skillname + "</b></div><div style='position: absolute; top: 5px; right: 5px;'> <b>Rank:</b>" + skillrank + "</div></div>";

	body = "<div style='text-align: center; padding-top: 3px; padding-bottom: 3px; border-bottom: 1px #555 solid;'><b>Mod: </b>" + skilldice + " | " + skilllight + " Light | " + skilltype + "</div><div style='width: 100%; height: 70px; overflow: hidden;'><div style='height: 70px; width: 49%; border-right: 1px #555 solid; overflow: auto; float: left;'>" + skilldesc + "</div><div style='height: 70px; width: 49%; overflow: auto; float: left;'>" + skilleffect + "</div></div>";

	setAttrs({"dummy":header, "dummy2":body});

	/* Send */
	startRoll("&{template:shareB} {{header=@{dummy} }} {{body=@{dummy2} }}", (results) => {

            finishRoll(results.rollId, {} );
        });

	setAttrs({"dummy":" ", "dummy2":" "});

    });

});


/* Tab toggler */
    const buttonlist = ["equipment","skills","details"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });

</script>

